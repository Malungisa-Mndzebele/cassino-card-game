var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,l=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&o(e,n,t[n]);if(r)for(var n of r(t))a.call(t,n)&&o(e,n,t[n]);return e},i=(e,r)=>t(e,n(r)),c=(e,t)=>{var n={};for(var o in e)s.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&r)for(var o of r(e))t.indexOf(o)<0&&a.call(e,o)&&(n[o]=e[o]);return n},d=(e,t,n)=>o(e,"symbol"!=typeof t?t+"":t,n),u=(e,t,n)=>new Promise((r,s)=>{var a=e=>{try{l(n.next(e))}catch(t){s(t)}},o=e=>{try{l(n.throw(e))}catch(t){s(t)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);l((n=n.apply(e,t)).next())});import{r as m,a as f,R as h,b as p,c as x}from"./vendor-gILhtmMa.js";import{S as g,C as b,a as v,L as y,T as j,P as w,A as N,U as k,b as C,c as S,d as E,H as P,e as R,D as O,f as I,Z as D,g as M,h as T,i as _,X as z,j as A,V as $,k as L,l as F,W,m as B}from"./ui-Bk53Kx6B.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var V={exports:{}},G={},U=m,Y=Symbol.for("react.element"),H=Symbol.for("react.fragment"),J=Object.prototype.hasOwnProperty,K=U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q={key:!0,ref:!0,__self:!0,__source:!0};function X(e,t,n){var r,s={},a=null,o=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(o=t.ref),t)J.call(t,r)&&!q.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:Y,type:e,key:a,ref:o,props:s,_owner:K.current}}G.Fragment=H,G.jsx=X,G.jsxs=X,V.exports=G;var Z=V.exports,Q={},ee=f;function te(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function ne(...e){return t=>{let n=!1;const r=e.map(e=>{const r=te(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():te(e[t],null)}}}}Q.createRoot=ee.createRoot,Q.hydrateRoot=ee.hydrateRoot;var re=m.forwardRef((e,t)=>{const n=e,{children:r}=n,s=c(n,["children"]),a=m.Children.toArray(r),o=a.find(oe);if(o){const e=o.props.children,n=a.map(t=>t===o?m.Children.count(e)>1?m.Children.only(null):m.isValidElement(e)?e.props.children:null:t);return Z.jsx(se,i(l({},s),{ref:t,children:m.isValidElement(e)?m.cloneElement(e,void 0,n):null}))}return Z.jsx(se,i(l({},s),{ref:t,children:r}))});re.displayName="Slot";var se=m.forwardRef((e,t)=>{const n=e,{children:r}=n,s=c(n,["children"]);if(m.isValidElement(r)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=r&&"isReactWarning"in r&&r.isReactWarning;if(s)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(r),n=function(e,t){const n=l({},t);for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...e)=>{a(...e),s(...e)}:s&&(n[r]=s):"style"===r?n[r]=l(l({},s),a):"className"===r&&(n[r]=[s,a].filter(Boolean).join(" "))}return l(l({},e),n)}(s,r.props);return r.type!==m.Fragment&&(n.ref=t?ne(t,e):e),m.cloneElement(r,n)}return m.Children.count(r)>1?m.Children.only(null):null});se.displayName="SlotClone";var ae=({children:e})=>Z.jsx(Z.Fragment,{children:e});function oe(e){return m.isValidElement(e)&&e.type===ae}function le(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=le(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ie(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=le(e))&&(r&&(r+=" "),r+=t);return r}const ce=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,de=ie,ue=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return de(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(e=>{const t=null==n?void 0:n[e],r=null==a?void 0:a[e];if(null===t)return null;const o=ce(t)||ce(r);return s[e][o]}),i=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),d=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let n=t,{class:r,className:s}=n,o=c(n,["class","className"]);return Object.entries(o).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes(l(l({},a),i)[t]):l(l({},a),i)[t]===n})?[...e,r,s]:e},[]);return de(e,o,d,null==n?void 0:n.class,null==n?void 0:n.className)},me=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?me(e.slice(1),s):void 0;if(a)return a;if(0===t.validators.length)return;const o=e.join("-");return null==(n=t.validators.find(({validator:e})=>e(o)))?void 0:n.classGroupId},fe=/^\[(.+)\]$/,he=e=>{if(fe.test(e)){const t=fe.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},pe=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)xe(n[s],r,s,t);return r},xe=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:ge(t,e)).classGroupId=n)}if("function"==typeof e)return be(e)?void xe(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(([e,s])=>{xe(s,ge(t,e),n,r)})})},ge=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},be=e=>e.isThemeGetter,ve=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(s(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):s(e,t)}}},ye=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,s=0,a=0;for(let i=0;i<e.length;i++){let o=e[i];if(0===r&&0===s){if(":"===o){t.push(e.slice(a,i)),a=i+1;continue}if("/"===o){n=i;continue}}"["===o?r++:"]"===o?r--:"("===o?s++:")"===o&&s--}const o=0===t.length?e:e.substring(a),l=je(o);return{modifiers:t,hasImportantModifier:l!==o,baseClassName:l,maybePostfixModifierPosition:n&&n>a?n-a:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},je=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,we=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},Ne=e=>l({cache:ve(e.cacheSize),parseClassName:ye(e),sortModifiers:we(e)},(e=>{const t=pe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),me(n,t)||he(e)},getConflictingClassGroupIds:(e,t)=>{const s=n[e]||[];return t&&r[e]?[...s,...r[e]]:s}}})(e)),ke=/\s+/;function Ce(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Se(e))&&(r&&(r+=" "),r+=t);return r}const Se=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Se(e[r]))&&(n&&(n+=" "),n+=t);return n};function Ee(e,...t){let n,r,s,a=function(l){const i=t.reduce((e,t)=>t(e),e());return n=Ne(i),r=n.cache.get,s=n.cache.set,a=o,o(l)};function o(e){const t=r(e);if(t)return t;const a=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=t,o=[],l=e.trim().split(ke);let i="";for(let c=l.length-1;c>=0;c-=1){const e=l[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:f}=n(e);if(t){i=e+(i.length>0?" "+i:i);continue}let h=!!f,p=r(h?m.substring(0,f):m);if(!p){if(!h){i=e+(i.length>0?" "+i:i);continue}if(p=r(m),!p){i=e+(i.length>0?" "+i:i);continue}h=!1}const x=a(d).join(":"),g=u?x+"!":x,b=g+p;if(o.includes(b))continue;o.push(b);const v=s(p,h);for(let n=0;n<v.length;++n){const e=v[n];o.push(g+e)}i=e+(i.length>0?" "+i:i)}return i})(e,n);return s(e,a),a}return function(){return a(Ce.apply(null,arguments))}}const Pe=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Re=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Oe=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ie=/^\d+\/\d+$/,De=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Me=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Te=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,_e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ze=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ae=e=>Ie.test(e),$e=e=>!!e&&!Number.isNaN(Number(e)),Le=e=>!!e&&Number.isInteger(Number(e)),Fe=e=>e.endsWith("%")&&$e(e.slice(0,-1)),We=e=>De.test(e),Be=()=>!0,Ve=e=>Me.test(e)&&!Te.test(e),Ge=()=>!1,Ue=e=>_e.test(e),Ye=e=>ze.test(e),He=e=>!Ke(e)&&!tt(e),Je=e=>it(e,mt,Ge),Ke=e=>Re.test(e),qe=e=>it(e,ft,Ve),Xe=e=>it(e,ht,$e),Ze=e=>it(e,dt,Ge),Qe=e=>it(e,ut,Ye),et=e=>it(e,xt,Ue),tt=e=>Oe.test(e),nt=e=>ct(e,ft),rt=e=>ct(e,pt),st=e=>ct(e,dt),at=e=>ct(e,mt),ot=e=>ct(e,ut),lt=e=>ct(e,xt,!0),it=(e,t,n)=>{const r=Re.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},ct=(e,t,n=!1)=>{const r=Oe.exec(e);return!!r&&(r[1]?t(r[1]):n)},dt=e=>"position"===e||"percentage"===e,ut=e=>"image"===e||"url"===e,mt=e=>"length"===e||"size"===e||"bg-size"===e,ft=e=>"length"===e,ht=e=>"number"===e,pt=e=>"family-name"===e,xt=e=>"shadow"===e,gt=Ee(()=>{const e=Pe("color"),t=Pe("font"),n=Pe("text"),r=Pe("font-weight"),s=Pe("tracking"),a=Pe("leading"),o=Pe("breakpoint"),l=Pe("container"),i=Pe("spacing"),c=Pe("radius"),d=Pe("shadow"),u=Pe("inset-shadow"),m=Pe("text-shadow"),f=Pe("drop-shadow"),h=Pe("blur"),p=Pe("perspective"),x=Pe("aspect"),g=Pe("ease"),b=Pe("animate"),v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",tt,Ke],y=()=>[tt,Ke,i],j=()=>[Ae,"full","auto",...y()],w=()=>[Le,"none","subgrid",tt,Ke],N=()=>["auto",{span:["full",Le,tt,Ke]},Le,tt,Ke],k=()=>[Le,"auto",tt,Ke],C=()=>["auto","min","max","fr",tt,Ke],S=()=>["auto",...y()],E=()=>[Ae,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],P=()=>[e,tt,Ke],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",st,Ze,{position:[tt,Ke]}],O=()=>["auto","cover","contain",at,Je,{size:[tt,Ke]}],I=()=>[Fe,nt,qe],D=()=>["","none","full",c,tt,Ke],M=()=>["",$e,nt,qe],T=()=>[$e,Fe,st,Ze],_=()=>["","none",h,tt,Ke],z=()=>["none",$e,tt,Ke],A=()=>["none",$e,tt,Ke],$=()=>[$e,tt,Ke],L=()=>[Ae,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[We],breakpoint:[We],color:[Be],container:[We],"drop-shadow":[We],ease:["in","out","in-out"],font:[He],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[We],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[We],shadow:[We],spacing:["px",$e],text:[We],"text-shadow":[We],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ae,Ke,tt,x]}],container:["container"],columns:[{columns:[$e,Ke,tt,l]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Le,"auto",tt,Ke]}],basis:[{basis:[Ae,"full","auto",l,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,Ae,"auto","initial","none",Ke]}],grow:[{grow:["",$e,tt,Ke]}],shrink:[{shrink:["",$e,tt,Ke]}],order:[{order:[Le,"first","last","none",tt,Ke]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[l,"screen",...E()]}],"min-w":[{"min-w":[l,"screen","none",...E()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",n,nt,qe]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,tt,Xe]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fe,Ke]}],"font-family":[{font:[rt,Ke,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,tt,Ke]}],"line-clamp":[{"line-clamp":[$e,"none",tt,Xe]}],leading:[{leading:[a,...y()]}],"list-image":[{"list-image":["none",tt,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tt,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",tt,qe]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[$e,"auto",tt,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Le,tt,Ke],radial:["",tt,Ke],conic:[Le,tt,Ke]},ot,Qe]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:M()}],"border-w-x":[{"border-x":M()}],"border-w-y":[{"border-y":M()}],"border-w-s":[{"border-s":M()}],"border-w-e":[{"border-e":M()}],"border-w-t":[{"border-t":M()}],"border-w-r":[{"border-r":M()}],"border-w-b":[{"border-b":M()}],"border-w-l":[{"border-l":M()}],"divide-x":[{"divide-x":M()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":M()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[$e,tt,Ke]}],"outline-w":[{outline:["",$e,nt,qe]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",d,lt,et]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",u,lt,et]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[$e,qe]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":M()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",m,lt,et]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[$e,tt,Ke]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":T()}],"mask-image-linear-to-pos":[{"mask-linear-to":T()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":T()}],"mask-image-t-to-pos":[{"mask-t-to":T()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":T()}],"mask-image-r-to-pos":[{"mask-r-to":T()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":T()}],"mask-image-b-to-pos":[{"mask-b-to":T()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":T()}],"mask-image-l-to-pos":[{"mask-l-to":T()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":T()}],"mask-image-x-to-pos":[{"mask-x-to":T()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":T()}],"mask-image-y-to-pos":[{"mask-y-to":T()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[tt,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":T()}],"mask-image-radial-to-pos":[{"mask-radial-to":T()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":T()}],"mask-image-conic-to-pos":[{"mask-conic-to":T()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tt,Ke]}],filter:[{filter:["","none",tt,Ke]}],blur:[{blur:_()}],brightness:[{brightness:[$e,tt,Ke]}],contrast:[{contrast:[$e,tt,Ke]}],"drop-shadow":[{"drop-shadow":["","none",f,lt,et]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",$e,tt,Ke]}],"hue-rotate":[{"hue-rotate":[$e,tt,Ke]}],invert:[{invert:["",$e,tt,Ke]}],saturate:[{saturate:[$e,tt,Ke]}],sepia:[{sepia:["",$e,tt,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",tt,Ke]}],"backdrop-blur":[{"backdrop-blur":_()}],"backdrop-brightness":[{"backdrop-brightness":[$e,tt,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[$e,tt,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,tt,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,tt,Ke]}],"backdrop-invert":[{"backdrop-invert":["",$e,tt,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[$e,tt,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[$e,tt,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,tt,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tt,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",tt,Ke]}],ease:[{ease:["linear","initial",g,tt,Ke]}],delay:[{delay:[$e,tt,Ke]}],animate:[{animate:["none",b,tt,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,tt,Ke]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:z()}],"rotate-x":[{"rotate-x":z()}],"rotate-y":[{"rotate-y":z()}],"rotate-z":[{"rotate-z":z()}],scale:[{scale:A()}],"scale-x":[{"scale-x":A()}],"scale-y":[{"scale-y":A()}],"scale-z":[{"scale-z":A()}],"scale-3d":["scale-3d"],skew:[{skew:$()}],"skew-x":[{"skew-x":$()}],"skew-y":[{"skew-y":$()}],transform:[{transform:[tt,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:L()}],"translate-x":[{"translate-x":L()}],"translate-y":[{"translate-y":L()}],"translate-z":[{"translate-z":L()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt,Ke]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[$e,nt,qe,Xe]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function bt(...e){return gt(ie(e))}const vt=ue("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),yt=m.forwardRef((e,t)=>{var n=e,{className:r,variant:s,size:a,asChild:o=!1}=n,i=c(n,["className","variant","size","asChild"]);const d=o?re:"button";return Z.jsx(d,l({"data-slot":"button",className:bt(vt({variant:s,size:a,className:r})),ref:t},i))});yt.displayName="Button";const jt=ue("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function wt(e){var t=e,{className:n,variant:r,asChild:s=!1}=t,a=c(t,["className","variant","asChild"]);const o=s?re:"span";return Z.jsx(o,l({"data-slot":"badge",className:bt(jt({variant:r}),n)},a))}function Nt({card:e,onClick:t,disabled:n=!1,selected:r=!1,highlighted:s=!1,size:a="normal",showPoints:o=!0}){if(!e||"object"!=typeof e||!e.suit||!e.rank||"string"!=typeof e.suit||"string"!=typeof e.rank)return Z.jsx("div",{className:`\n        ${"small"===a?"w-12 h-16":"large"===a?"w-20 h-28":"w-16 h-24"}\n        bg-gradient-to-br from-gray-50 to-gray-100 \n        border-2 border-dashed border-gray-300 \n        rounded-xl flex items-center justify-center\n        transition-all duration-300 hover:border-gray-400\n        shadow-inner\n      `,children:Z.jsx("div",{className:"text-gray-400 text-xs font-medium",children:"Empty"})});const{suit:l,rank:i}=e,c=String(l||""),d=String(i||""),u=(e=>{switch(e){case"hearts":return"♥";case"diamonds":return"♦";case"clubs":return"♣";case"spades":return"♠";default:return e}})(c),m="hearts"===(f=c)||"diamonds"===f?"text-casino-red":"text-gray-800";var f;const h=(e=>{switch(e){case"hearts":return"from-casino-red-light to-casino-red-dark";case"diamonds":return"from-casino-blue-light to-casino-blue-dark";case"clubs":return"from-gray-700 to-gray-900";case"spades":return"from-gray-800 to-black";default:return"from-gray-600 to-gray-800"}})(c),p=(x=c,"A"===(y=d)||"spades"===x&&"2"===y?1:"diamonds"===x&&"10"===y?2:0);var x,y;const j=((e,t)=>"A"===t||"spades"===e&&"2"===t||"diamonds"===e&&"10"===t)(c,d),w=Z.jsxs("div",{className:`\n      ${{small:"w-12 h-16 text-xs",normal:"w-16 h-24 text-sm",large:"w-20 h-28 text-base"}[a]}\n      relative bg-gradient-to-br from-white via-gray-50 to-white\n      rounded-xl shadow-lg border-2 \n      transition-all duration-300 ease-out\n      card-hover\n      ${r?"border-casino-gold ring-4 ring-casino-gold/30 shadow-glow-gold transform -translate-y-2 shadow-2xl":s?"border-casino-blue ring-3 ring-casino-blue/30 shadow-casino":j?"border-casino-purple/40 shadow-casino hover:border-casino-purple":"border-gray-200 hover:border-gray-300 hover:shadow-casino"}\n      ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}\n      ${t?"hover:scale-105 active:scale-95":""}\n      overflow-hidden\n    `,children:[j&&Z.jsxs("div",{className:"absolute inset-0 opacity-5",children:[Z.jsx("div",{className:"absolute top-1 right-1",children:Z.jsx(g,{className:"w-3 h-3"})}),Z.jsx("div",{className:"absolute bottom-1 left-1",children:Z.jsx(g,{className:"w-3 h-3"})})]}),Z.jsx("div",{className:"absolute inset-0 shimmer opacity-0 hover:opacity-100 transition-opacity duration-300"}),Z.jsxs("div",{className:"relative h-full flex flex-col justify-between p-2",children:[Z.jsxs("div",{className:`flex flex-col items-center ${m} font-bold leading-none`,children:[Z.jsx("div",{className:("small"===a?"text-xs":"text-sm")+" font-black",children:d}),Z.jsx("div",{className:`${"small"===a?"text-xs":"text-base"} leading-none mt-0.5 \n            bg-gradient-to-br ${h} bg-clip-text text-transparent font-black`,children:u})]}),("A"===d||"K"===d||"Q"===d||"J"===d)&&Z.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:Z.jsx("div",{className:`\n              ${"small"===a?"text-xl":"large"===a?"text-4xl":"text-2xl"} \n              font-black opacity-20\n              bg-gradient-to-br ${h} bg-clip-text text-transparent\n            `,children:"A"===d?u:d})}),Z.jsxs("div",{className:`flex flex-col items-center ${m} font-bold leading-none self-end transform rotate-180`,children:[Z.jsx("div",{className:("small"===a?"text-xs":"text-sm")+" font-black",children:d}),Z.jsx("div",{className:`${"small"===a?"text-xs":"text-base"} leading-none mt-0.5 \n            bg-gradient-to-br ${h} bg-clip-text text-transparent font-black`,children:u})]})]}),o&&p>0&&Z.jsx("div",{className:"absolute -top-2 -right-2",children:Z.jsx(wt,{className:`\n            ${"small"===a?"text-xs px-1.5 py-0.5":"text-xs px-2 py-1"}\n            bg-gradient-to-r from-casino-gold to-casino-gold-dark \n            text-white font-bold shadow-gold border-0\n            animate-pulse-slow\n          `,children:2===p?Z.jsxs("div",{className:"flex items-center space-x-0.5",children:[Z.jsx(b,{className:"w-2.5 h-2.5"}),Z.jsx("span",{children:p})]}):Z.jsxs("div",{className:"flex items-center space-x-0.5",children:[Z.jsx(v,{className:"w-2.5 h-2.5"}),Z.jsx("span",{children:p})]})})}),j&&r&&Z.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-casino-gold/20 via-transparent to-casino-purple/20 rounded-xl pointer-events-none"})]});if(t&&!n){const n=`${d} of ${c}${p>0?` (${p} point${p>1?"s":""})`:""}`;return Z.jsx(yt,{variant:"ghost",className:"p-0 h-auto w-auto bg-transparent hover:bg-transparent border-0 shadow-none",onClick:()=>t(e),"aria-label":n,"aria-pressed":r,tabIndex:0,children:w})}return w}function kt(e){var t=e,{className:n,type:r}=t,s=c(t,["className","type"]);return Z.jsx("input",l({type:r,"data-slot":"input",className:bt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n)},s))}function Ct(e){return"A"===e?14:"K"===e?13:"Q"===e?12:"J"===e?11:parseInt(e)}function St(e){return"A"===e.rank||"2"===e.rank&&"spades"===e.suit||"10"===e.rank&&"diamonds"===e.suit}function Et(e,t){const n=[];for(const r of e)Ct(r.rank)===t&&n.push([r]);for(let r=0;r<e.length;r++)for(let s=r+1;s<e.length;s++){Ct(e[r].rank)+Ct(e[s].rank)===t&&n.push([e[r],e[s]])}if(e.length<=8)for(let r=0;r<e.length;r++)for(let s=r+1;s<e.length;s++)for(let a=s+1;a<e.length;a++){Ct(e[r].rank)+Ct(e[s].rank)+Ct(e[a].rank)===t&&n.push([e[r],e[s],e[a]])}return n}function Pt(e,t){let n=0;n+=10*e.length,n+=t.reduce((e,t)=>e+10*t.cards.length,0);for(const r of e)St(r)&&("10"===r.rank&&"diamonds"===r.suit?n+=30:n+=20),"spades"===r.suit&&(n+=5);return n}function Rt(e,t){let n=15;n+=5*e.length,t>=12&&(n+=10);for(const r of e)St(r)&&(n+=15),"spades"===r.suit&&(n+=3);return n}function Ot(e){switch(e){case"hearts":return"♥";case"diamonds":return"♦";case"clubs":return"♣";case"spades":return"♠";default:return""}}function It({playerHand:e,tableCards:t,builds:n,enabled:r,playerId:s}){if(!r)return null;const a=function(e,t,n){const r=[];for(const s of e){const a=Ct(s.rank);for(const e of t)if(Ct(e.rank)===a){const t=Pt([e],[]);r.push({type:"capture",handCard:s,targetCards:[e],score:t,description:`Capture ${e.rank}${Ot(e.suit)} with ${s.rank}${Ot(s.suit)}`})}for(const e of n)if(e.value===a){const t=Pt(e.cards,[]);r.push({type:"capture",handCard:s,targetBuilds:[e],score:t+20,description:`Capture build (${e.value}) with ${s.rank}${Ot(s.suit)}`})}const o=Et(t,a);for(const e of o)if(e.length>1){const t=Pt(e,[]);r.push({type:"capture",handCard:s,targetCards:e,score:t+5*e.length,description:`Capture ${e.length} cards (${e.map(e=>e.rank).join("+")}) with ${s.rank}${Ot(s.suit)}`})}for(let n=2;n<=14;n++){if(n===a)continue;const o=e.filter(e=>Ct(e.rank)===n&&e.id!==s.id);if(o.length>0){const e=n-a;if(e>0){const a=Et(t,e);for(const e of a)if(e.length>0){const t=Rt(e,n);r.push({type:"build",handCard:s,targetCards:e,buildValue:n,score:t+10,description:`Build ${n} using ${s.rank}${Ot(s.suit)} + ${e.map(e=>e.rank).join("+")} (capture with ${o[0].rank}${Ot(o[0].suit)})`})}}}}r.push({type:"trail",handCard:s,score:St(s)?5:10,description:`Trail ${s.rank}${Ot(s.suit)} to table`})}return r.sort((e,t)=>t.score-e.score)}(e,t,n),o=a.slice(0,3);return 0===o.length?null:Z.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[Z.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Z.jsx(y,{className:"h-4 w-4 text-yellow-600"}),Z.jsx("h3",{className:"font-medium text-yellow-800",children:"Suggested Moves"})]}),Z.jsx("div",{className:"space-y-2",children:o.map((e,t)=>Z.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Z.jsxs(wt,{variant:"outline",className:"text-xs",children:["#",t+1]}),"capture"===e.type&&Z.jsx(j,{className:"h-3 w-3 text-green-600"}),"build"===e.type&&Z.jsx(w,{className:"h-3 w-3 text-blue-600"}),"trail"===e.type&&Z.jsx(N,{className:"h-3 w-3 text-gray-600"}),Z.jsx("span",{className:""+("capture"===e.type?"text-green-700":"build"===e.type?"text-blue-700":"text-gray-700"),children:e.description}),Z.jsx(wt,{variant:"secondary",className:"ml-auto text-xs",children:e.score})]},t))}),Z.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"💡 Higher scores indicate better moves. Capture high-value cards when possible!"})]})}const Dt=new class{constructor(){d(this,"audioContext",null),d(this,"sounds",new Map),d(this,"masterVolume",.3)}initialize(){return u(this,null,function*(){if(!this.audioContext)try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),yield this.createSounds()}catch(e){console.error("Failed to initialize audio context:",e)}})}createSounds(){return u(this,null,function*(){if(!this.audioContext)return;const e=this.createTone([440,554,659],.3,"sine");this.sounds.set("capture",e);const t=this.createTone([330,415,523],.4,"triangle");this.sounds.set("build",t);const n=this.createTone([294],.2,"sine");this.sounds.set("trail",n);const r=this.createTone([261,329,392,523],.6,"square");this.sounds.set("gameStart",r);const s=this.createTone([523,440,349,261],.8,"sine");this.sounds.set("gameEnd",s);const a=this.createTone([200,150],.3,"sawtooth");this.sounds.set("error",a)})}createTone(e,t,n="sine"){if(!this.audioContext)throw new Error("Audio context not initialized");const r=this.audioContext.sampleRate,s=r*t,a=this.audioContext.createBuffer(1,s,r),o=a.getChannelData(0);for(let l=0;l<s;l++){let n=0;const a=l/r,i=Math.sin(l/s*Math.PI);for(const r of e){const s=a*(e.indexOf(r)+1)/e.length;s<=t/e.length&&(n+=Math.sin(2*Math.PI*r*s)*i*(1/e.length))}o[l]=n*this.masterVolume}return a}playSound(e,t=1){return u(this,null,function*(){if(this.audioContext&&this.sounds.has(e))try{"suspended"===this.audioContext.state&&(yield this.audioContext.resume());const n=this.sounds.get(e),r=this.audioContext.createBufferSource(),s=this.audioContext.createGain();r.buffer=n,s.gain.value=t*this.masterVolume,r.connect(s),s.connect(this.audioContext.destination),r.start()}catch(n){console.error(`Failed to play sound ${e}:`,n)}})}setMasterVolume(e){this.masterVolume=Math.max(0,Math.min(1,e))}};function Mt({onSoundReady:e}){const t=m.useRef(!1);return m.useEffect(()=>{t.current||(t.current=!0,Dt.initialize().then(()=>{null==e||e()}))},[e]),null}function Tt(e){return"A"===e?14:"K"===e?13:"Q"===e?12:"J"===e?11:parseInt(e)}function _t({playerHand:e,tableCards:t,builds:n,onPlayCard:r,isMyTurn:s,hintsEnabled:a=!1,soundEnabled:o=!0,playerId:l}){const[i,c]=m.useState(""),[d,f]=m.useState([]),[h,p]=m.useState([]),[x,g]=m.useState("trail"),[b,v]=m.useState(0),[y,j]=m.useState([]),w=e.find(e=>e.id===i),N=w?Tt(w.rank):0;m.useEffect(()=>{if(!a||!w)return void j([]);const e=[],r=Tt(w.rank);for(const n of t)Tt(n.rank)===r&&e.push(n.id);for(const t of n)t.value===r&&e.push(t.id);j(e)},[w,t,n,a]);const k=()=>{let e=0;for(const n of d){const r=t.find(e=>e.id===n);r&&(e+=Tt(r.rank))}for(const t of h){const r=n.find(e=>e.id===t);r&&(e+=r.value)}return e},C=()=>{if(!w)return!1;return k()===N&&(d.length>0||h.length>0)},S=()=>b?e.filter(e=>Tt(e.rank)===b&&e.id!==i):[],E=()=>{if(!w||b<2||b>14)return!1;const e=N+k(),t=S();return e===b&&t.length>0&&d.length>0};return s?Z.jsxs("div",{className:"space-y-4",children:[a&&Z.jsx(It,{playerHand:e,tableCards:t,builds:n,enabled:a,playerId:l}),Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:[Z.jsx("h3",{className:"font-medium mb-3",children:"Your Hand - Select a card to play"}),Z.jsx("div",{className:"flex gap-2 justify-center",children:e.map(e=>{const t=i===e.id,n="build"===x&&b>0&&Tt(e.rank)===b&&e.id!==i;return Z.jsxs("div",{className:`cursor-pointer transition-all ${t?"transform -translate-y-2 ring-2 ring-blue-500":""} ${n?"ring-2 ring-green-400 animate-pulse":""}`,onClick:()=>c(e.id),children:[Z.jsx(Nt,{suit:e.suit,rank:e.rank,id:e.id,isPlayable:!0,size:"medium"}),n&&Z.jsx("p",{className:"text-xs text-center mt-1 text-green-600 font-medium",children:"Can capture build"})]},e.id)})}),w&&Z.jsx("div",{className:"mt-2 text-center",children:Z.jsxs(wt,{variant:"default",children:["Selected: ",w.rank," of ",w.suit," (Value: ",N,")"]})})]}),w&&Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:[Z.jsx("h3",{className:"font-medium mb-3",children:"Choose Action"}),Z.jsxs("div",{className:"flex gap-2 mb-4",children:[Z.jsx(yt,{variant:"trail"===x?"default":"outline",onClick:()=>g("trail"),size:"sm",children:"Trail (Play to table)"}),Z.jsxs(yt,{variant:"capture"===x?"default":"outline",onClick:()=>g("capture"),size:"sm",disabled:!C()&&0===d.length&&0===h.length,children:["Capture ",C()&&"✓"]}),Z.jsx(yt,{variant:"build"===x?"default":"outline",onClick:()=>g("build"),size:"sm",children:"Build"})]}),"build"===x&&Z.jsxs("div",{className:"mb-4",children:[Z.jsx("label",{className:"block text-sm font-medium mb-2",children:"Build Value (2-14):"}),Z.jsx(kt,{type:"number",min:"2",max:"14",value:b||"",onChange:e=>v(parseInt(e.target.value)||0),className:"w-20"}),Z.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Current total: ",N+k(),b>0&&Z.jsxs("span",{className:b===N+k()?"text-green-600":"text-red-600",children:[" ","(",b===N+k()?"Perfect!":"Needs adjustment",")"]})]}),b>0&&Z.jsx("div",{className:"mt-2",children:S().length>0?Z.jsxs("div",{className:"text-xs text-green-600",children:["✓ You can capture this build with: ",S().map(e=>e.rank).join(", ")]}):Z.jsxs("div",{className:"text-xs text-red-600",children:["✗ You need a ",b,"-value card in hand to capture this build",Z.jsx("br",{}),"Available values: ",e.filter(e=>e.id!==i).map(e=>Tt(e.rank)).sort((e,t)=>e-t).join(", ")]})}),!E()&&b>0&&b===N+k()&&0===S().length&&Z.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700",children:[Z.jsx("strong",{children:"Rule Reminder:"})," You can only build values that you have cards to capture with in your hand."]})]}),("capture"===x||"build"===x)&&Z.jsxs("div",{children:[Z.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"capture"===x?`Select cards that sum to ${N}:`:`Select cards to build with (need total ${b}):`}),Z.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Currently selected value: ",k(),"capture"===x&&k()>0&&Z.jsxs("span",{className:k()===N?"text-green-600":"text-orange-600",children:[" ","(",k()===N?"Perfect match!":"Keep adjusting",")"]})]})]}),Z.jsx("div",{className:"flex justify-center",children:Z.jsx(yt,{onClick:()=>u(this,null,function*(){if(w)try{if("capture"===x&&C()){const e=[...d];for(const t of h){const r=n.find(e=>e.id===t);r&&e.push(...r.cards.map(e=>e.id))}o&&(yield Dt.playSound("capture")),r(i,"capture",e)}else"build"===x&&E()?(o&&(yield Dt.playSound("build")),r(i,"build",d,b)):(o&&(yield Dt.playSound("trail")),r(i,"trail"));c(""),f([]),p([]),v(0),g("trail")}catch(e){console.error("Error playing card:",e),o&&(yield Dt.playSound("error"))}}),disabled:"capture"===x?!C():"build"===x&&!E(),size:"lg",className:"capture"===x&&C()?"bg-green-600 hover:bg-green-700":"build"===x&&E()?"bg-blue-600 hover:bg-blue-700":"",children:"trail"===x?"Trail Card":"capture"===x?C()?"Capture Cards ✓":"Cannot Capture":E()?"Create Build ✓":b>0&&0===S().length?"Need Capturing Card":"Create Build"})}),"build"===x&&!E()&&b>0&&d.length>0&&Z.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:Z.jsxs("div",{className:"flex items-start gap-2",children:[Z.jsx("div",{className:"text-yellow-600 mt-1",children:"⚠️"}),Z.jsxs("div",{className:"text-sm",children:[Z.jsx("p",{className:"font-medium text-yellow-800",children:"Build Rule Violation"}),Z.jsxs("p",{className:"text-yellow-700 mt-1",children:["You can only create builds that you have cards to capture with.",0===S().length&&Z.jsxs("span",{children:[" You need a ",b,"-value card in your hand to build ",b,"."]})]})]})]})})]}),Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:[Z.jsx("h3",{className:"font-medium mb-3",children:"Table Cards"}),t.length>0?Z.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:t.map(e=>Z.jsxs("div",{className:`cursor-pointer transition-all ${d.includes(e.id)?"ring-2 ring-blue-500 transform scale-105":""} ${a&&y.includes(e.id)?"ring-2 ring-yellow-400 animate-pulse":""}`,onClick:()=>{return("capture"===x||"build"===x)&&(t=e.id,void(d.includes(t)?f(d.filter(e=>e!==t)):f([...d,t])));var t},children:[Z.jsx(Nt,{suit:e.suit,rank:e.rank,id:e.id,size:"small"}),Z.jsxs("p",{className:"text-xs text-center mt-1",children:["Val: ",Tt(e.rank)]})]},e.id))}):Z.jsx("p",{className:"text-center text-gray-500",children:"No cards on table"})]}),n.length>0&&Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:[Z.jsx("h3",{className:"font-medium mb-3",children:"Current Builds"}),Z.jsx("div",{className:"space-y-2",children:n.map(e=>Z.jsxs("div",{className:`p-2 border rounded-lg cursor-pointer transition-all ${h.includes(e.id)?"ring-2 ring-blue-500 transform scale-102":""} ${a&&y.includes(e.id)?"ring-2 ring-yellow-400 animate-pulse":""}`,onClick:()=>{return"capture"===x&&(t=e.id,void(h.includes(t)?p(h.filter(e=>e!==t)):p([...h,t])));var t},children:[Z.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Z.jsxs(wt,{variant:"secondary",children:["Build Value: ",e.value]}),Z.jsxs(wt,{variant:e.owner===l?"default":"outline",children:["Player ",e.owner," ",e.owner===l&&"(You)"]})]}),Z.jsx("div",{className:"flex gap-1",children:e.cards.map(e=>Z.jsx(Nt,{suit:e.suit,rank:e.rank,id:e.id,size:"small"},e.id))})]},e.id))})]})]}):Z.jsx("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:Z.jsx("div",{className:"text-center text-gray-500",children:Z.jsx("p",{children:"Waiting for opponent's turn..."})})})}function zt(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>m.createContext(e));return function(n){const r=(null==n?void 0:n[e])||t;return m.useMemo(()=>({[`__scope${e}`]:i(l({},n),{[e]:r})}),[n,r])}};return r.scopeName=e,[function(t,r){const s=m.createContext(r),a=n.length;n=[...n,r];const o=t=>{var n;const r=t,{scope:o,children:l}=r,i=c(r,["scope","children"]),d=(null==(n=null==o?void 0:o[e])?void 0:n[a])||s,u=m.useMemo(()=>i,Object.values(i));return Z.jsx(d.Provider,{value:u,children:l})};return o.displayName=t+"Provider",[o,function(n,o){var l;const i=(null==(l=null==o?void 0:o[e])?void 0:l[a])||s,c=m.useContext(i);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},At(r,...t)]}function At(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>{const s=n(e)[`__scope${r}`];return l(l({},t),s)},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function $t(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Lt(e){const t=Ft(e),n=m.forwardRef((e,n)=>{const r=e,{children:s}=r,a=c(r,["children"]),o=m.Children.toArray(s),d=o.find(Bt);if(d){const e=d.props.children,r=o.map(t=>t===d?m.Children.count(e)>1?m.Children.only(null):m.isValidElement(e)?e.props.children:null:t);return Z.jsx(t,i(l({},a),{ref:n,children:m.isValidElement(e)?m.cloneElement(e,void 0,r):null}))}return Z.jsx(t,i(l({},a),{ref:n,children:s}))});return n.displayName=`${e}.Slot`,n}function Ft(e){const t=m.forwardRef((e,t)=>{const n=e,{children:r}=n,s=c(n,["children"]);if(m.isValidElement(r)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=r&&"isReactWarning"in r&&r.isReactWarning;if(s)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(r),n=function(e,t){const n=l({},t);for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...e)=>{const t=a(...e);return s(...e),t}:s&&(n[r]=s):"style"===r?n[r]=l(l({},s),a):"className"===r&&(n[r]=[s,a].filter(Boolean).join(" "))}return l(l({},e),n)}(s,r.props);return r.type!==m.Fragment&&(n.ref=t?function(...e){return t=>{let n=!1;const r=e.map(e=>{const r=$t(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():$t(e[t],null)}}}}(t,e):e),m.cloneElement(r,n)}return m.Children.count(r)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wt=Symbol("radix.slottable");function Bt(e){return m.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Wt}var Vt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Lt(`Primitive.${t}`),r=m.forwardRef((e,r)=>{const s=e,{asChild:a}=s,o=c(s,["asChild"]),d=a?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),Z.jsx(d,i(l({},o),{ref:r}))});return r.displayName=`Primitive.${t}`,i(l({},e),{[t]:r})},{});var Gt="Progress",Ut=100,[Yt,Ht]=zt(Gt),[Jt,Kt]=Yt(Gt),qt=m.forwardRef((e,t)=>{const n=e,{__scopeProgress:r,value:s=null,max:a,getValueLabel:o=Qt}=n,d=c(n,["__scopeProgress","value","max","getValueLabel"]);!a&&0!==a||nn(a)||console.error(`Invalid prop \`max\` of value \`${`${a}`}\` supplied to \`${"Progress"}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const u=nn(a)?a:Ut;null===s||rn(s,u)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${s}`,"Progress"));const m=rn(s,u)?s:null,f=tn(m)?o(m,u):void 0;return Z.jsx(Jt,{scope:r,value:m,max:u,children:Z.jsx(Vt.div,i(l({"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":tn(m)?m:void 0,"aria-valuetext":f,role:"progressbar","data-state":en(m,u),"data-value":null!=m?m:void 0,"data-max":u},d),{ref:t}))})});qt.displayName=Gt;var Xt="ProgressIndicator",Zt=m.forwardRef((e,t)=>{var n;const r=e,{__scopeProgress:s}=r,a=c(r,["__scopeProgress"]),o=Kt(Xt,s);return Z.jsx(Vt.div,i(l({"data-state":en(o.value,o.max),"data-value":null!=(n=o.value)?n:void 0,"data-max":o.max},a),{ref:t}))});function Qt(e,t){return`${Math.round(e/t*100)}%`}function en(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function tn(e){return"number"==typeof e}function nn(e){return tn(e)&&!isNaN(e)&&e>0}function rn(e,t){return tn(e)&&!isNaN(e)&&e<=t&&e>=0}Zt.displayName=Xt;var sn=qt,an=Zt;function on(e){var t=e,{className:n,value:r}=t,s=c(t,["className","value"]);return Z.jsx(sn,i(l({"data-slot":"progress",className:bt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n)},s),{children:Z.jsx(an,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}))}function ln(e){var t=e,{className:n}=t,r=c(t,["className"]);return Z.jsx("div",l({"data-slot":"card",className:bt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n)},r))}function cn(e){var t=e,{className:n}=t,r=c(t,["className"]);return Z.jsx("div",l({"data-slot":"card-content",className:bt("px-6 [&:last-child]:pb-6",n)},r))}function dn({gameState:e,playerId:t,onPlayerReady:n,onPlayerNotReady:r}){var s,a,o,l,i,c;const d=e.player1Ready,u=e.player2Ready,m=1===t?d:u,f=1===t?u:d,h=1===t?(null==(s=e.players.find(e=>2===e.id))?void 0:s.name)||"Player 2":(null==(a=e.players.find(e=>1===e.id))?void 0:a.name)||"Player 1";return Z.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:Z.jsx(ln,{className:"backdrop-casino border-0 shadow-casino-lg max-w-2xl w-full mx-4 overflow-hidden",children:Z.jsxs(cn,{className:"p-0",children:[Z.jsxs("div",{className:"bg-gradient-to-r from-casino-gold to-casino-gold-dark p-6 text-center relative overflow-hidden",children:[Z.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-casino-gold/20 to-casino-gold-dark/20 animate-pulse"}),Z.jsxs("div",{className:"relative z-10",children:[Z.jsx("div",{className:"flex justify-center items-center mb-4",children:Z.jsxs("div",{className:"relative",children:[Z.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-casino-gold via-casino-purple to-casino-blue rounded-full blur-lg opacity-60 animate-pulse-slow"}),Z.jsx("div",{className:"relative backdrop-casino-dark rounded-full p-4 shadow-glow-gold border border-casino-gold/30",children:Z.jsx(b,{className:"w-12 h-12 text-casino-gold glow-gold"})})]})}),Z.jsx("h1",{className:"text-3xl font-black text-white mb-2",children:"The Dealer"}),Z.jsx("p",{className:"text-white/80 font-medium",children:"Ready to deal the cards?"})]})]}),Z.jsxs("div",{className:"p-8",children:[Z.jsx("div",{className:"text-center mb-8",children:Z.jsxs("div",{className:"backdrop-casino-dark rounded-xl p-4 mb-4 border border-casino-blue/30",children:[Z.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[Z.jsx(k,{className:"w-5 h-5 text-casino-blue"}),Z.jsxs("span",{className:"text-casino-blue-light font-medium",children:["Room: ",e.roomId]})]}),Z.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[Z.jsxs("div",{className:"text-center",children:[Z.jsx("div",{className:"text-casino-green-light font-bold",children:(null==(o=e.players[0])?void 0:o.name)||"Player 1"}),Z.jsx("div",{className:"text-white/60",children:"Player 1"})]}),Z.jsxs("div",{className:"text-center",children:[Z.jsx("div",{className:"text-casino-blue-light font-bold",children:(null==(l=e.players[1])?void 0:l.name)||"Player 2"}),Z.jsx("div",{className:"text-white/60",children:"Player 2"})]})]})]})}),Z.jsxs("div",{className:"space-y-6",children:[Z.jsxs("div",{className:"text-center",children:[Z.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Are you ready to play?"}),Z.jsx("p",{className:"text-white/70 mb-6",children:"Both players must confirm they're ready before the game can begin."})]}),Z.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[Z.jsxs("div",{className:"backdrop-casino-dark rounded-xl p-4 border transition-all duration-300 "+(d?"border-casino-green/50 bg-casino-green/10":"border-casino-gold/30"),children:[Z.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Z.jsx("span",{className:"text-casino-green-light font-medium",children:"Player 1"}),d?Z.jsx(C,{className:"w-5 h-5 text-casino-green-light"}):Z.jsx(S,{className:"w-5 h-5 text-casino-gold"})]}),Z.jsx("div",{className:"text-white/80 text-sm",children:(null==(i=e.players[0])?void 0:i.name)||"Player 1"}),Z.jsx("div",{className:"mt-2",children:d?Z.jsxs(wt,{className:"bg-casino-green text-white border-0",children:[Z.jsx(C,{className:"w-3 h-3 mr-1"}),"Ready"]}):Z.jsxs(wt,{variant:"outline",className:"border-casino-gold text-casino-gold",children:[Z.jsx(S,{className:"w-3 h-3 mr-1"}),"Waiting"]})})]}),Z.jsxs("div",{className:"backdrop-casino-dark rounded-xl p-4 border transition-all duration-300 "+(u?"border-casino-green/50 bg-casino-green/10":"border-casino-gold/30"),children:[Z.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Z.jsx("span",{className:"text-casino-blue-light font-medium",children:"Player 2"}),u?Z.jsx(C,{className:"w-5 h-5 text-casino-green-light"}):Z.jsx(S,{className:"w-5 h-5 text-casino-gold"})]}),Z.jsx("div",{className:"text-white/80 text-sm",children:(null==(c=e.players[1])?void 0:c.name)||"Player 2"}),Z.jsx("div",{className:"mt-2",children:u?Z.jsxs(wt,{className:"bg-casino-green text-white border-0",children:[Z.jsx(C,{className:"w-3 h-3 mr-1"}),"Ready"]}):Z.jsxs(wt,{variant:"outline",className:"border-casino-gold text-casino-gold",children:[Z.jsx(S,{className:"w-3 h-3 mr-1"}),"Waiting"]})})]})]}),!m&&Z.jsxs("div",{className:"flex space-x-4",children:[Z.jsxs(yt,{onClick:n,className:"flex-1 h-12 bg-gradient-to-r from-casino-green to-casino-green-light hover:from-casino-green-light hover:to-casino-green text-white shadow-casino border-0 rounded-xl transition-all duration-300",children:[Z.jsx(C,{className:"w-5 h-5 mr-2"}),"I'm Ready!"]}),Z.jsxs(yt,{onClick:r,variant:"outline",className:"flex-1 h-12 border-casino-red text-casino-red hover:bg-casino-red/10 hover:border-casino-red-light backdrop-casino-dark rounded-xl transition-all duration-300",children:[Z.jsx(E,{className:"w-5 h-5 mr-2"}),"Not Ready"]})]}),m&&Z.jsx("div",{className:"text-center",children:Z.jsxs("div",{className:"backdrop-casino-dark rounded-xl p-4 border border-casino-green/30",children:[Z.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[Z.jsx(C,{className:"w-6 h-6 text-casino-green-light"}),Z.jsx("span",{className:"text-casino-green-light font-bold",children:"You're Ready!"})]}),Z.jsx("p",{className:"text-white/70 text-sm",children:f?"Both players are ready! The game will begin shortly...":`Waiting for ${h} to confirm they're ready...`})]})}),d&&u&&Z.jsx("div",{className:"text-center",children:Z.jsxs("div",{className:"backdrop-casino-dark rounded-xl p-6 border border-casino-green/50 bg-casino-green/10",children:[Z.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[Z.jsx(g,{className:"w-8 h-8 text-casino-gold glow-gold"}),Z.jsx("span",{className:"text-casino-green-light font-bold text-xl",children:"Both Players Ready!"}),Z.jsx(g,{className:"w-8 h-8 text-casino-gold glow-gold"})]}),Z.jsx("p",{className:"text-white/80",children:"The game will begin in a few seconds..."})]})})]})]})]})})})}function un({gameState:e,playerId:t,onStartShuffle:n,onSelectFaceUpCards:r,onPlayCard:s,onResetGame:a,onPlayerReady:o,onPlayerNotReady:l,preferences:i}){var c;const[d,u]=m.useState(30),[f,h]=m.useState([]),[p,x]=m.useState(!1);if(!e)return null;m.useEffect(()=>{"countdown"===e.phase&&void 0!==e.countdownRemaining&&u(Math.ceil(e.countdownRemaining))},[e.countdownRemaining]),m.useEffect(()=>{"dealer"===e.phase&&e.player1Ready&&e.player2Ready},[e.phase,e.player1Ready,e.player2Ready]),m.useEffect(()=>{let t;return"countdown"===e.phase&&e.countdownStartTime&&(t=setInterval(()=>{const n=(Date.now()-e.countdownStartTime)/1e3,r=Math.max(0,30-n);u(Math.ceil(r)),r<=0&&clearInterval(t)},1e3)),()=>{t&&clearInterval(t)}},[e.phase,e.countdownStartTime]),m.useEffect(()=>{if("shuffling"===e.phase){x(!0);const e=setTimeout(()=>x(!1),3e3);return()=>clearTimeout(e)}},[e.phase]);const g=()=>{4===f.length&&(r(f),h([]))},b=e=>{const t={aces:0,twoOfSpades:0,tenOfDiamonds:0,totalCards:e.length,spades:e.filter(e=>"spades"===e.suit).length};return t.aces=e.filter(e=>"A"===e.rank).length,t.twoOfSpades=e.some(e=>"2"===e.rank&&"spades"===e.suit)?1:0,t.tenOfDiamonds=e.some(e=>"10"===e.rank&&"diamonds"===e.suit)?2:0,t};if("dealer"===e.phase)return Z.jsx(dn,{gameState:e,playerId:t,onPlayerReady:o,onPlayerNotReady:l});if("countdown"===e.phase)return Z.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96 bg-white rounded-lg p-8 shadow-lg",children:[Z.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Game Starting Soon!"}),Z.jsxs("div",{className:"text-center mb-6",children:[Z.jsx("div",{className:"text-6xl font-bold text-blue-600 mb-2",children:d}),Z.jsx("p",{className:"text-gray-600",children:"seconds remaining"})]}),Z.jsx(on,{value:(30-d)/30*100,className:"w-64 mb-4"}),Z.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["The game will begin automatically when the countdown reaches zero.",Z.jsx("br",{}),"Player 1 will then instruct the dealer to shuffle the cards."]})]});if("readyToShuffle"===e.phase)return Z.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96 bg-white rounded-lg p-8 shadow-lg",children:[Z.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Ready to Begin"}),Z.jsx("p",{className:"text-gray-600 mb-6 text-center",children:1===t?"You may now instruct the dealer to shuffle the cards.":"Waiting for Player 1 to instruct the dealer to shuffle the cards."}),1===t&&Z.jsx(yt,{onClick:n,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:"Instruct Dealer to Shuffle Cards"})]});if("shuffling"===e.phase||p)return Z.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96 bg-white rounded-lg p-8 shadow-lg",children:[Z.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Shuffling Cards"}),Z.jsx("div",{className:"relative mb-6",children:Z.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(e=>Z.jsx("div",{className:"w-16 h-24 bg-blue-800 border-2 border-blue-900 rounded-lg transition-all duration-500 "+(p?"animate-bounce":""),style:{animationDelay:.1*e+"s",transform:p?`translateY(-${10*Math.sin(Date.now()/200+e)}px)`:"none"},children:Z.jsx("div",{className:"text-white text-center mt-8",children:"🂠"})},e))})}),Z.jsx("p",{className:"text-gray-600 text-center",children:"The dealer is shuffling the deck..."})]});if("cardSelection"===e.phase)return Z.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[Z.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Card Selection Phase"}),Z.jsx("p",{className:"text-gray-600 mb-6 text-center",children:1===t?"Select 4 cards to place face up on the table":"Player 1 is selecting 4 cards to place face up on the table"}),1===t&&Z.jsxs("div",{className:"space-y-4",children:[Z.jsx("div",{className:"text-center",children:Z.jsxs(wt,{variant:4===f.length?"default":"secondary",children:[f.length,"/4 cards selected"]})}),Z.jsx("div",{className:"grid grid-cols-6 gap-2 max-h-96 overflow-y-auto p-4 border rounded-lg",children:e.deck.slice(0,20).map(e=>Z.jsx(Nt,{suit:e.suit,rank:e.rank,id:e.id,onClick:()=>{return t=e.id,void(f.includes(t)?h(f.filter(e=>e!==t)):f.length<4&&h([...f,t]));var t},isPlayable:!0,size:"small"},e.id))}),Z.jsx("div",{className:"text-center",children:Z.jsx(yt,{onClick:g,disabled:4!==f.length,size:"lg",children:"Confirm Selection"})})]})]});if("dealing"===e.phase||"dealingRound2"===e.phase){const t="dealingRound2"===e.phase;return Z.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96 bg-white rounded-lg p-8 shadow-lg",children:[Z.jsx("h2",{className:"text-2xl font-bold mb-6",children:t?"Dealing Cards for Round 2":"Dealing Cards"}),Z.jsx("div",{className:"mb-6",children:Z.jsxs("div",{className:"flex space-x-8",children:[Z.jsxs("div",{className:"text-center",children:[Z.jsx("div",{className:"w-20 h-28 bg-green-600 border-2 border-green-700 rounded-lg flex items-center justify-center mb-2",children:Z.jsx("span",{className:"text-white",children:"P1"})}),Z.jsx("p",{className:"text-sm",children:"Player 1"})]}),Z.jsxs("div",{className:"text-center",children:[Z.jsx("div",{className:"w-16 h-24 bg-blue-800 border-2 border-blue-900 rounded-lg flex items-center justify-center animate-pulse",children:Z.jsx("div",{className:"text-white",children:"🂠"})}),Z.jsx("p",{className:"text-sm mt-2",children:"Dealer"})]}),Z.jsxs("div",{className:"text-center",children:[Z.jsx("div",{className:"w-20 h-28 bg-red-600 border-2 border-red-700 rounded-lg flex items-center justify-center mb-2",children:Z.jsx("span",{className:"text-white",children:"P2"})}),Z.jsx("p",{className:"text-sm",children:"Player 2"})]})]})}),Z.jsx("p",{className:"text-gray-600 text-center",children:t?"The dealer is distributing 4 more cards to each player...":"The dealer is distributing 4 cards to each player alternately..."})]})}if("round1"===e.phase||"round2"===e.phase){const n=1===t?e.player1Hand:e.player2Hand,r=1===t?e.player1Captured:e.player2Captured,a=1===t?e.player2Captured:e.player1Captured,o=e.currentTurn===t,l=1===t?e.player1Score:e.player2Score,d=1===t?e.player2Score:e.player1Score,u=b(r||[]),m=b(a||[]);return Z.jsxs("div",{className:"space-y-6",children:[Z.jsx("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsxs("div",{children:[Z.jsxs("h2",{className:"text-xl font-bold",children:["Cassino - Round ",e.round,"round2"===e.phase&&2===e.round&&" (Final Round)"]}),Z.jsx("p",{className:"text-sm text-gray-600",children:o?"Your turn":`Player ${e.currentTurn}'s turn`})]}),Z.jsxs("div",{className:"flex space-x-4",children:[Z.jsxs("div",{className:"text-center",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Your Score"}),Z.jsxs(wt,{variant:"default",className:"text-lg",children:[l,"/11"]})]}),Z.jsxs("div",{className:"text-center",children:[Z.jsx("p",{className:"text-sm text-gray-600",children:"Opponent"}),Z.jsxs(wt,{variant:"secondary",className:"text-lg",children:[d,"/11"]})]})]})]})}),Z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:[Z.jsxs("h3",{className:"font-semibold mb-3",children:["Your Captured Cards (",(null==r?void 0:r.length)||0,")"]}),Z.jsxs("div",{className:"space-y-2 text-sm",children:[Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"Aces:"}),Z.jsxs(wt,{variant:"secondary",children:[u.aces," pts"]})]}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"2♠:"}),Z.jsxs(wt,{variant:"secondary",children:[u.twoOfSpades," pts"]})]}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"10♦:"}),Z.jsxs(wt,{variant:"secondary",children:[u.tenOfDiamonds," pts"]})]}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"Spades:"}),Z.jsx("span",{children:u.spades})]})]}),r&&r.length>0&&Z.jsx("div",{className:"mt-3 max-h-20 overflow-y-auto",children:Z.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.slice(-10).map((e,t)=>Z.jsx(Nt,{suit:e.suit,rank:e.rank,id:e.id,size:"small"},`${e.id}-${t}`)),r.length>10&&Z.jsxs("span",{className:"text-xs text-gray-500 self-center ml-2",children:["+",r.length-10," more"]})]})})]}),Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:[Z.jsxs("h3",{className:"font-semibold mb-3",children:["Opponent Captured (",(null==a?void 0:a.length)||0,")"]}),Z.jsxs("div",{className:"space-y-2 text-sm",children:[Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"Aces:"}),Z.jsxs(wt,{variant:"outline",children:[m.aces," pts"]})]}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"2♠:"}),Z.jsxs(wt,{variant:"outline",children:[m.twoOfSpades," pts"]})]}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"10♦:"}),Z.jsxs(wt,{variant:"outline",children:[m.tenOfDiamonds," pts"]})]}),Z.jsxs("div",{className:"flex justify-between",children:[Z.jsx("span",{children:"Spades:"}),Z.jsx("span",{children:m.spades})]})]}),Z.jsxs("div",{className:"mt-3 text-center text-gray-500",children:[Z.jsx("div",{className:"w-12 h-16 bg-gray-200 rounded mx-auto"}),Z.jsx("p",{className:"text-xs mt-1",children:"Hidden cards"})]})]})]}),e.lastPlay&&Z.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:[Z.jsx("h3",{className:"font-semibold mb-2",children:"Last Play"}),Z.jsxs("p",{className:"text-sm text-gray-600",children:["Player ",e.lastPlay.playerId," ",e.lastPlay.action,"ed ",e.lastPlay.card.rank,"♦","capture"===e.lastPlay.action&&` (${(null==(c=e.lastPlay.capturedCards)?void 0:c.length)||0} cards)`,"build"===e.lastPlay.action&&` (value ${e.lastPlay.buildValue})`]})]}),Z.jsx(_t,{playerHand:n||[],tableCards:e.tableCards||[],builds:e.builds||[],onPlayCard:s,isMyTurn:o,hintsEnabled:i.hintsEnabled,soundEnabled:i.soundEnabled,playerId:t})]})}if("finished"===e.phase){const n=1===t?e.player1Score:e.player2Score,r=1===t?e.player2Score:e.player1Score,s=e.winner===t,o="tie"===e.winner,l=1===t?e.player1Captured:e.player2Captured,i=1===t?e.player2Captured:e.player1Captured,c=b(l||[]),d=b(i||[]);return Z.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96 bg-white rounded-lg p-8 shadow-lg",children:[Z.jsxs("div",{className:"text-center mb-6",children:[Z.jsx("h2",{className:"text-3xl font-bold mb-4 "+(o?"text-yellow-600":s?"text-green-600":"text-red-600"),children:o?"It's a Tie!":s?"You Won!":"You Lost!"}),Z.jsxs("div",{className:"bg-gray-100 rounded-lg p-6 mb-6",children:[Z.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Final Scores"}),Z.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[Z.jsxs("div",{className:"text-center",children:[Z.jsx("p",{className:"font-medium text-gray-600",children:"Your Score"}),Z.jsxs("div",{className:"text-3xl font-bold "+(s?"text-green-600":"text-gray-800"),children:[n,"/11"]}),Z.jsxs("div",{className:"text-xs space-y-1 mt-2",children:[Z.jsxs("div",{children:["Aces: ",c.aces]}),Z.jsxs("div",{children:["2♠: ",c.twoOfSpades]}),Z.jsxs("div",{children:["10♦: ",c.tenOfDiamonds]}),Z.jsxs("div",{children:["Cards: ",c.totalCards]}),Z.jsxs("div",{children:["Spades: ",c.spades]})]})]}),Z.jsxs("div",{className:"text-center",children:[Z.jsx("p",{className:"font-medium text-gray-600",children:"Opponent"}),Z.jsxs("div",{className:"text-3xl font-bold "+(s||o?"text-gray-800":"text-green-600"),children:[r,"/11"]}),Z.jsxs("div",{className:"text-xs space-y-1 mt-2",children:[Z.jsxs("div",{children:["Aces: ",d.aces]}),Z.jsxs("div",{children:["2♠: ",d.twoOfSpades]}),Z.jsxs("div",{children:["10♦: ",d.tenOfDiamonds]}),Z.jsxs("div",{children:["Cards: ",d.totalCards]}),Z.jsxs("div",{children:["Spades: ",d.spades]})]})]})]})]}),Z.jsxs("div",{className:"text-sm text-gray-600 mb-6",children:[Z.jsx("p",{children:"Game completed after 2 rounds"}),Z.jsxs("p",{children:["Total cards captured: ",((null==l?void 0:l.length)||0)+((null==i?void 0:i.length)||0)]})]})]}),Z.jsx(yt,{onClick:a,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:"Play Again"})]})}return Z.jsx("div",{className:"flex items-center justify-center min-h-96",children:Z.jsx("p",{children:"Loading game phase..."})})}var mn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{const n=m.forwardRef((e,n)=>{const r=e,{asChild:s}=r,a=c(r,["asChild"]),o=s?re:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),Z.jsx(o,i(l({},a),{ref:n}))});return n.displayName=`Primitive.${t}`,i(l({},e),{[t]:n})},{}),fn=m.forwardRef((e,t)=>Z.jsx(mn.label,i(l({},e),{ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null==(n=e.onMouseDown)||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));fn.displayName="Label";var hn=fn;function pn(e){var t=e,{className:n}=t,r=c(t,["className"]);return Z.jsx(hn,l({"data-slot":"label",className:bt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n)},r))}var xn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{const n=m.forwardRef((e,n)=>{const r=e,{asChild:s}=r,a=c(r,["asChild"]),o=s?re:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),Z.jsx(o,i(l({},a),{ref:n}))});return n.displayName=`Primitive.${t}`,i(l({},e),{[t]:n})},{}),gn="horizontal",bn=["horizontal","vertical"],vn=m.forwardRef((e,t)=>{const n=e,{decorative:r,orientation:s=gn}=n,a=c(n,["decorative","orientation"]),o=function(e){return bn.includes(e)}(s)?s:gn,d=r?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"};return Z.jsx(xn.div,i(l(l({"data-orientation":o},d),a),{ref:t}))});vn.displayName="Separator";var yn=vn;function jn(e){var t=e,{className:n,orientation:r="horizontal",decorative:s=!0}=t,a=c(t,["className","orientation","decorative"]);return Z.jsx(yn,l({"data-slot":"separator-root",decorative:s,orientation:r,className:bt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n)},a))}function wn({roomId:e,setRoomId:t,playerName:n,setPlayerName:r,onCreateRoom:s,onJoinRoom:a,error:o,isLoading:l}){const[i,c]=m.useState(!1);console.log("🏠 RoomManager render:",{showJoinForm:i,playerName:n,roomId:e,hasPlayerName:!!n.trim(),hasRoomId:!!e.trim()});const d=[{icon:P,color:"text-casino-red-light"},{icon:O,color:"text-casino-blue-light"},{icon:R,color:"text-white"},{icon:I,color:"text-white"}];return Z.jsxs("div",{className:"min-h-screen gradient-casino-vibrant relative overflow-hidden","data-testid":"room-manager",children:[Z.jsx("div",{className:"particles",children:Array.from({length:30}).map((e,t)=>Z.jsx("div",{className:"particle",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",width:6*Math.random()+2+"px",height:6*Math.random()+2+"px",animationDelay:6*Math.random()+"s",animationDuration:4*Math.random()+3+"s"}},t))}),Z.jsxs("div",{className:"absolute inset-0 opacity-15",children:[Z.jsx("div",{className:"absolute top-10 left-10 transform rotate-12 floating",children:Z.jsx(P,{className:"w-24 h-24 text-casino-red-light glow-casino"})}),Z.jsx("div",{className:"absolute top-32 right-16 transform -rotate-45 floating",style:{animationDelay:"1s"},children:Z.jsx(R,{className:"w-20 h-20 text-white glow-casino"})}),Z.jsx("div",{className:"absolute bottom-20 left-20 transform rotate-45 floating",style:{animationDelay:"2s"},children:Z.jsx(O,{className:"w-28 h-28 text-casino-blue-light glow-casino"})}),Z.jsx("div",{className:"absolute bottom-32 right-12 transform -rotate-12 floating",style:{animationDelay:"3s"},children:Z.jsx(I,{className:"w-22 h-22 text-white glow-casino"})}),Z.jsx("div",{className:"absolute top-1/2 left-1/4 transform rotate-90 floating",style:{animationDelay:"0.5s"},children:Z.jsx(b,{className:"w-18 h-18 text-casino-gold glow-gold"})}),Z.jsx("div",{className:"absolute top-1/3 right-1/3 transform -rotate-30 floating",style:{animationDelay:"1.5s"},children:Z.jsx(v,{className:"w-16 h-16 text-casino-purple-light glow-casino"})}),Z.jsx("div",{className:"absolute top-2/3 left-3/4 transform rotate-180 floating",style:{animationDelay:"2.5s"},children:Z.jsx(g,{className:"w-14 h-14 text-casino-gold glow-gold"})}),Z.jsx("div",{className:"absolute bottom-1/3 right-2/3 transform -rotate-60 floating",style:{animationDelay:"4s"},children:Z.jsx(D,{className:"w-12 h-12 text-casino-purple glow-casino"})})]}),Z.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4 lg:p-8",children:Z.jsxs("div",{className:"w-full max-w-5xl mx-auto",role:"main",children:[Z.jsxs("div",{className:"text-center mb-12",children:[Z.jsx("div",{className:"flex justify-center items-center mb-8",children:Z.jsxs("div",{className:"relative",children:[Z.jsx("div",{className:"absolute -inset-3 bg-gradient-to-r from-casino-gold via-casino-purple to-casino-blue rounded-full blur-lg opacity-60 animate-pulse-slow"}),Z.jsx("div",{className:"relative backdrop-casino-dark rounded-full p-6 shadow-glow-gold border border-casino-gold/30",children:Z.jsx(M,{className:"w-16 h-16 text-casino-gold glow-gold animate-pulse-slow"})})]})}),Z.jsx("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-black text-gradient-casino mb-6 tracking-tight",children:"Cassino"}),Z.jsx("p",{className:"text-xl md:text-2xl text-white/80 font-medium mb-8 max-w-2xl mx-auto",children:"The Classic Card Game • Real-time Multiplayer • Pure Strategy"}),o&&Z.jsx("div",{className:"backdrop-casino-dark border border-casino-red/50 rounded-xl p-4 mb-6 max-w-md mx-auto",children:Z.jsx("div",{className:"text-casino-red-light font-medium","data-testid":"error-message-test",children:o})}),Z.jsx("div",{className:"flex justify-center items-center space-x-3 mb-8",children:d.map((e,t)=>Z.jsx("div",{className:"floating",style:{animationDelay:.2*t+"s"},children:Z.jsx(e.icon,{className:`w-8 h-8 ${e.color} glow-casino`})},t))}),Z.jsxs("div",{className:"flex justify-center space-x-8 text-white/70 text-sm font-medium",children:[Z.jsxs("div",{className:"flex items-center space-x-2 backdrop-casino-dark px-4 py-2 rounded-full",children:[Z.jsx(k,{className:"w-5 h-5 text-casino-blue"}),Z.jsx("span",{children:"2 Players"})]}),Z.jsxs("div",{className:"flex items-center space-x-2 backdrop-casino-dark px-4 py-2 rounded-full",children:[Z.jsx(T,{className:"w-5 h-5 text-casino-gold"}),Z.jsx("span",{children:"Skill-Based"})]}),Z.jsxs("div",{className:"flex items-center space-x-2 backdrop-casino-dark px-4 py-2 rounded-full",children:[Z.jsx(_,{className:"w-5 h-5 text-casino-purple"}),Z.jsx("span",{children:"Classic Rules"})]})]})]}),Z.jsx("div",{className:"grid md:grid-cols-1 gap-8 max-w-3xl mx-auto",children:Z.jsx(ln,{className:"backdrop-casino border-0 shadow-casino-lg overflow-hidden",children:Z.jsx(cn,{className:"p-8",children:Z.jsxs("div",{className:"text-center mb-8",children:[Z.jsxs("div",{className:"backdrop-casino-dark rounded-xl p-6 mb-6 border border-casino-green/30",children:[Z.jsx(pn,{htmlFor:"playerName",className:"text-casino-green-light font-medium text-lg mb-3 block",children:"Enter Your Name"}),Z.jsx(kt,{id:"playerName","data-testid":"player-name-input-create-test",value:n,onChange:e=>r(e.target.value),placeholder:"Your display name",className:"text-center text-lg py-3 backdrop-casino border-casino-green/50 text-white placeholder:text-white/50 focus:border-casino-gold focus:ring-casino-gold/30",maxLength:20})]}),i?Z.jsxs("div",{className:"space-y-6",children:[Z.jsx("div",{className:"text-center text-xs text-casino-blue bg-black/20 p-2 rounded",children:"🎯 JOIN FORM ACTIVE"}),Z.jsxs("div",{className:"backdrop-casino-dark rounded-xl p-6 border border-casino-blue/30",children:[Z.jsx(pn,{htmlFor:"roomId",className:"text-casino-blue-light font-medium text-lg mb-3 block",children:"Room Code"}),Z.jsxs("div",{className:"flex space-x-3",children:[Z.jsx(kt,{id:"roomId","data-testid":"room-id-input-test",value:e,onChange:e=>t(e.target.value.toUpperCase()),placeholder:"Enter 6-character code",className:"text-center text-lg py-3 backdrop-casino border-casino-blue/50 text-white placeholder:text-white/50 focus:border-casino-gold focus:ring-casino-gold/30 font-mono",maxLength:6}),Z.jsx(yt,{onClick:()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let n="";for(let t=0;t<6;t++)n+=e.charAt(Math.floor(36*Math.random()));t(n)},variant:"outline",className:"border-casino-purple text-casino-purple hover:bg-casino-purple/10 hover:border-casino-purple-light backdrop-casino-dark",children:Z.jsx(_,{className:"w-5 h-5"})})]})]}),Z.jsx(yt,{onClick:()=>{console.log("🔘 Join Game button clicked!"),console.log("📝 Current values:",{playerName:n,roomId:e,isLoading:l}),a()},disabled:!n.trim()||!e.trim()||l,"data-testid":"join-room-submit-test",className:"w-full h-14 text-lg font-bold bg-gradient-to-r from-casino-blue to-casino-blue-light hover:from-casino-blue-light hover:to-casino-blue text-white shadow-casino border-0 rounded-xl transition-all duration-300 disabled:opacity-50",children:l?Z.jsxs("div",{className:"flex items-center space-x-2",children:[Z.jsx("div",{className:"casino-spinner w-5 h-5"}),Z.jsx("span",{children:"Joining Game..."})]}):Z.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[Z.jsx(D,{className:"w-6 h-6"}),Z.jsx("span",{children:"Join Game"})]})}),Z.jsx(yt,{onClick:()=>c(!1),variant:"ghost","data-testid":"cancel-join-test",className:"w-full text-white/70 hover:text-white hover:bg-white/5",children:"Back to Create Game"})]}):Z.jsxs("div",{className:"space-y-6",children:[Z.jsx("div",{className:"text-center text-xs text-casino-gold bg-black/20 p-2 rounded",children:"🎯 CREATE FORM ACTIVE"}),Z.jsx(yt,{onClick:s,disabled:!n.trim()||l,"data-testid":"create-room-test",className:"w-full h-14 text-lg font-bold bg-gradient-to-r from-casino-green to-casino-green-light hover:from-casino-green-light hover:to-casino-green text-white shadow-casino border-0 rounded-xl transition-all duration-300 disabled:opacity-50",children:l?Z.jsxs("div",{className:"flex items-center space-x-2",children:[Z.jsx("div",{className:"casino-spinner w-5 h-5"}),Z.jsx("span",{children:"Creating Room..."})]}):Z.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[Z.jsx(b,{className:"w-6 h-6"}),Z.jsx("span",{children:"Create New Game"})]})}),Z.jsxs("div",{className:"relative",children:[Z.jsx(jn,{className:"bg-casino-gold/30"}),Z.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:Z.jsx("span",{className:"backdrop-casino-dark px-4 py-1 text-casino-gold font-medium text-sm rounded-full border border-casino-gold/30",children:"OR"})})]}),Z.jsx(yt,{onClick:()=>{console.log("🔘 Show Join Form button clicked!"),c(!0)},variant:"outline","data-testid":"show-join-form-test",className:"w-full h-14 text-lg font-bold border-casino-blue text-casino-blue hover:bg-casino-blue/10 hover:border-casino-blue-light backdrop-casino-dark rounded-xl transition-all duration-300",children:Z.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[Z.jsx(k,{className:"w-6 h-6"}),Z.jsx("span",{children:"Join Existing Game"})]})})]})]})})})}),Z.jsxs("div",{className:"mt-12 grid md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[Z.jsxs("div",{className:"backdrop-casino-dark rounded-2xl p-6 border border-casino-green/30 text-center shadow-casino",children:[Z.jsx("div",{className:"backdrop-casino rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 border border-casino-green/20",children:Z.jsx(T,{className:"w-8 h-8 text-casino-gold glow-gold"})}),Z.jsx("h3",{className:"font-bold text-casino-green-light mb-2 text-lg",children:"Strategic Gameplay"}),Z.jsx("p",{className:"text-white/70 text-sm",children:"Master the art of capturing, building, and trailing in this classic card game."})]}),Z.jsxs("div",{className:"backdrop-casino-dark rounded-2xl p-6 border border-casino-blue/30 text-center shadow-casino",children:[Z.jsx("div",{className:"backdrop-casino rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 border border-casino-blue/20",children:Z.jsx(D,{className:"w-8 h-8 text-casino-purple glow-casino"})}),Z.jsx("h3",{className:"font-bold text-casino-blue-light mb-2 text-lg",children:"Real-time Play"}),Z.jsx("p",{className:"text-white/70 text-sm",children:"Experience smooth, real-time multiplayer action with instant updates."})]}),Z.jsxs("div",{className:"backdrop-casino-dark rounded-2xl p-6 border border-casino-purple/30 text-center shadow-casino",children:[Z.jsx("div",{className:"backdrop-casino rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 border border-casino-purple/20",children:Z.jsx(b,{className:"w-8 h-8 text-casino-gold glow-gold"})}),Z.jsx("h3",{className:"font-bold text-casino-purple-light mb-2 text-lg",children:"Premium Experience"}),Z.jsx("p",{className:"text-white/70 text-sm",children:"Beautiful animations, sound effects, and an immersive casino atmosphere."})]})]})]})})]})}function Nn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function kn(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>{const s=n(e)[`__scope${r}`];return l(l({},t),s)},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function Cn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}function Sn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=function({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),a=Cn(t);return m.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}({defaultProp:t,onChange:n}),a=void 0!==e,o=a?e:r,l=Cn(n);return[o,m.useCallback(t=>{if(a){const n="function"==typeof t?t(e):t;n!==e&&l(n)}else s(t)},[a,e,s,l])]}var En=Boolean(null==globalThis?void 0:globalThis.document)?m.useLayoutEffect:()=>{};var Pn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{const n=m.forwardRef((e,n)=>{const r=e,{asChild:s}=r,a=c(r,["asChild"]),o=s?re:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),Z.jsx(o,i(l({},a),{ref:n}))});return n.displayName=`Primitive.${t}`,i(l({},e),{[t]:n})},{}),Rn="Switch",[On,In]=function(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>m.createContext(e));return function(n){const r=(null==n?void 0:n[e])||t;return m.useMemo(()=>({[`__scope${e}`]:i(l({},n),{[e]:r})}),[n,r])}};return r.scopeName=e,[function(t,r){const s=m.createContext(r),a=n.length;n=[...n,r];const o=t=>{var n;const r=t,{scope:o,children:l}=r,i=c(r,["scope","children"]),d=(null==(n=null==o?void 0:o[e])?void 0:n[a])||s,u=m.useMemo(()=>i,Object.values(i));return Z.jsx(d.Provider,{value:u,children:l})};return o.displayName=t+"Provider",[o,function(n,o){var l;const i=(null==(l=null==o?void 0:o[e])?void 0:l[a])||s,c=m.useContext(i);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},kn(r,...t)]}(Rn),[Dn,Mn]=On(Rn),Tn=m.forwardRef((e,t)=>{const n=e,{__scopeSwitch:r,name:s,checked:a,defaultChecked:o,required:d,disabled:u,value:f="on",onCheckedChange:h,form:p}=n,x=c(n,["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[g,b]=m.useState(null),v=function(...e){return m.useCallback(ne(...e),e)}(t,e=>b(e)),y=m.useRef(!1),j=!g||(p||!!g.closest("form")),[w=!1,N]=Sn({prop:a,defaultProp:o,onChange:h});return Z.jsxs(Dn,{scope:r,checked:w,disabled:u,children:[Z.jsx(Pn.button,i(l({type:"button",role:"switch","aria-checked":w,"aria-required":d,"data-state":$n(w),"data-disabled":u?"":void 0,disabled:u,value:f},x),{ref:v,onClick:Nn(e.onClick,e=>{N(e=>!e),j&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})),j&&Z.jsx(An,{control:g,bubbles:!y.current,name:s,value:f,checked:w,required:d,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});Tn.displayName=Rn;var _n="SwitchThumb",zn=m.forwardRef((e,t)=>{const n=e,{__scopeSwitch:r}=n,s=c(n,["__scopeSwitch"]),a=Mn(_n,r);return Z.jsx(Pn.span,i(l({"data-state":$n(a.checked),"data-disabled":a.disabled?"":void 0},s),{ref:t}))});zn.displayName=_n;var An=e=>{const t=e,{control:n,checked:r,bubbles:s=!0}=t,a=c(t,["control","checked","bubbles"]),o=m.useRef(null),d=function(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r),u=function(e){const[t,n]=m.useState(void 0);return En(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let s,a;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,a=t.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(n);return m.useEffect(()=>{const e=o.current,t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(d!==r&&n){const t=new Event("click",{bubbles:s});n.call(e,r),e.dispatchEvent(t)}},[d,r,s]),Z.jsx("input",i(l({type:"checkbox","aria-hidden":!0,defaultChecked:r},a),{tabIndex:-1,ref:o,style:i(l(l({},e.style),u),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function $n(e){return e?"checked":"unchecked"}var Ln=Tn,Fn=zn;function Wn(e){var t=e,{className:n}=t,r=c(t,["className"]);return Z.jsx(Ln,i(l({"data-slot":"switch",role:"switch","aria-checked":r.checked,className:bt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n)},r),{children:Z.jsx(Fn,{"data-slot":"switch-thumb",className:bt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})}))}function Bn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function Vn(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Gn(...e){return t=>{let n=!1;const r=e.map(e=>{const r=Vn(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Vn(e[t],null)}}}}function Un(...e){return m.useCallback(Gn(...e),e)}var Yn=(null==globalThis?void 0:globalThis.document)?m.useLayoutEffect:()=>{},Hn=h[" useId ".trim().toString()]||(()=>{}),Jn=0;function Kn(e){const[t,n]=m.useState(Hn());return Yn(()=>{n(e=>null!=e?e:String(Jn++))},[e]),e||(t?`radix-${t}`:"")}var qn=(null==globalThis?void 0:globalThis.document)?m.useLayoutEffect:()=>{},Xn=h[" useInsertionEffect ".trim().toString()]||qn;function Zn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,o]=function({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),s=m.useRef(n),a=m.useRef(t);return Xn(()=>{a.current=t},[t]),m.useEffect(()=>{var e;s.current!==n&&(null==(e=a.current)||e.call(a,n),s.current=n)},[n,s]),[n,r,a]}({defaultProp:t,onChange:n}),l=void 0!==e,i=l?e:s;{const t=m.useRef(void 0!==e);m.useEffect(()=>{const e=t.current;if(e!==l){const t=e?"controlled":"uncontrolled",n=l?"controlled":"uncontrolled";console.warn(`${r} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,r])}const c=m.useCallback(t=>{var n;if(l){const r=function(e){return"function"==typeof e}(t)?t(e):t;r!==e&&(null==(n=o.current)||n.call(o,r))}else a(t)},[l,e,a,o]);return[i,c]}function Qn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function er(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function tr(...e){return m.useCallback(function(...e){return t=>{let n=!1;const r=e.map(e=>{const r=er(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():er(e[t],null)}}}}(...e),e)}function nr(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}function rr(e,t=(null==globalThis?void 0:globalThis.document)){const n=function(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}(e);m.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}var sr,ar="dismissableLayer.update",or="dismissableLayer.pointerDownOutside",lr="dismissableLayer.focusOutside",ir=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cr=m.forwardRef((e,t)=>{var n;const r=e,{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d,onInteractOutside:u,onDismiss:f}=r,h=c(r,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),p=m.useContext(ir),[x,g]=m.useState(null),b=null!=(n=null==x?void 0:x.ownerDocument)?n:null==globalThis?void 0:globalThis.document,[,v]=m.useState({}),y=tr(t,e=>g(e)),j=Array.from(p.layers),[w]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=j.indexOf(w),k=x?j.indexOf(x):-1,C=p.layersWithOutsidePointerEventsDisabled.size>0,S=k>=N,E=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=nr(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){ur(or,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=r,t.addEventListener("click",s.current,{once:!0})):r()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...p.branches].some(e=>e.contains(t));S&&!n&&(null==o||o(e),null==u||u(e),e.defaultPrevented||null==f||f())},b),P=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=nr(e),r=m.useRef(!1);return m.useEffect(()=>{const e=e=>{if(e.target&&!r.current){ur(lr,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...p.branches].some(e=>e.contains(t))||(null==d||d(e),null==u||u(e),e.defaultPrevented||null==f||f())},b);return rr(e=>{k===p.layers.size-1&&(null==a||a(e),!e.defaultPrevented&&f&&(e.preventDefault(),f()))},b),m.useEffect(()=>{if(x)return s&&(0===p.layersWithOutsidePointerEventsDisabled.size&&(sr=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(x)),p.layers.add(x),dr(),()=>{s&&1===p.layersWithOutsidePointerEventsDisabled.size&&(b.body.style.pointerEvents=sr)}},[x,b,s,p]),m.useEffect(()=>()=>{x&&(p.layers.delete(x),p.layersWithOutsidePointerEventsDisabled.delete(x),dr())},[x,p]),m.useEffect(()=>{const e=()=>v({});return document.addEventListener(ar,e),()=>document.removeEventListener(ar,e)},[]),Z.jsx(Vt.div,i(l({},h),{ref:y,style:l({pointerEvents:C?S?"auto":"none":void 0},e.style),onFocusCapture:Qn(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Qn(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Qn(e.onPointerDownCapture,E.onPointerDownCapture)}))});cr.displayName="DismissableLayer";function dr(){const e=new CustomEvent(ar);document.dispatchEvent(e)}function ur(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?function(e,t){e&&f.flushSync(()=>e.dispatchEvent(t))}(s,a):s.dispatchEvent(a)}function mr(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function fr(...e){return m.useCallback(function(...e){return t=>{let n=!1;const r=e.map(e=>{const r=mr(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():mr(e[t],null)}}}}(...e),e)}function hr(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}m.forwardRef((e,t)=>{const n=m.useContext(ir),r=m.useRef(null),s=tr(t,r);return m.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),Z.jsx(Vt.div,i(l({},e),{ref:s}))}).displayName="DismissableLayerBranch";var pr="focusScope.autoFocusOnMount",xr="focusScope.autoFocusOnUnmount",gr={bubbles:!1,cancelable:!0},br=m.forwardRef((e,t)=>{const n=e,{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o}=n,d=c(n,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[u,f]=m.useState(null),h=hr(a),p=hr(o),x=m.useRef(null),g=fr(t,e=>f(e)),b=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let e=function(e){if(b.paused||!u)return;const t=e.target;u.contains(t)?x.current=t:wr(x.current,{select:!0})},t=function(e){if(b.paused||!u)return;const t=e.relatedTarget;null!==t&&(u.contains(t)||wr(x.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&wr(u)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return u&&r.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[s,u,b.paused]),m.useEffect(()=>{if(u){Nr.add(b);const t=document.activeElement;if(!u.contains(t)){const n=new CustomEvent(pr,gr);u.addEventListener(pr,h),u.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(wr(r,{select:t}),document.activeElement!==n)return}((e=vr(u),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&wr(u))}return()=>{u.removeEventListener(pr,h),setTimeout(()=>{const e=new CustomEvent(xr,gr);u.addEventListener(xr,p),u.dispatchEvent(e),e.defaultPrevented||wr(null!=t?t:document.body,{select:!0}),u.removeEventListener(xr,p),Nr.remove(b)},0)}}var e},[u,h,p,b]);const v=m.useCallback(e=>{if(!r&&!s)return;if(b.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[s,a]=function(e){const t=vr(e),n=yr(t,e),r=yr(t.reverse(),e);return[n,r]}(t);s&&a?e.shiftKey||n!==a?e.shiftKey&&n===s&&(e.preventDefault(),r&&wr(a,{select:!0})):(e.preventDefault(),r&&wr(s,{select:!0})):n===t&&e.preventDefault()}},[r,s,b.paused]);return Z.jsx(Vt.div,i(l({tabIndex:-1},d),{ref:g,onKeyDown:v}))});function vr(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yr(e,t){for(const n of e)if(!jr(n,{upTo:t}))return n}function jr(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function wr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}br.displayName="FocusScope";var Nr=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=kr(e,t),e.unshift(t)},remove(t){var n;e=kr(e,t),null==(n=e[0])||n.resume()}}}();function kr(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var Cr=(null==globalThis?void 0:globalThis.document)?m.useLayoutEffect:()=>{},Sr=m.forwardRef((e,t)=>{var n;const r=e,{container:s}=r,a=c(r,["container"]),[o,d]=m.useState(!1);Cr(()=>d(!0),[]);const u=s||o&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return u?p.createPortal(Z.jsx(Vt.div,i(l({},a),{ref:t})),u):null});function Er(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Pr(...e){return m.useCallback(function(...e){return t=>{let n=!1;const r=e.map(e=>{const r=Er(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Er(e[t],null)}}}}(...e),e)}Sr.displayName="Portal";var Rr=(null==globalThis?void 0:globalThis.document)?m.useLayoutEffect:()=>{};var Or=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=m.useState(),r=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,i]=function(e,t){return m.useReducer((e,n)=>{const r=t[e][n];return null!=r?r:e},e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const e=Ir(r.current);a.current="mounted"===l?e:"none"},[l]),Rr(()=>{const t=r.current,n=s.current;if(n!==e){const r=a.current,o=Ir(t);if(e)i("MOUNT");else if("none"===o||"none"===(null==t?void 0:t.display))i("UNMOUNT");else{i(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}s.current=e}},[e,i]),Rr(()=>{var e;if(t){let n;const o=null!=(e=t.ownerDocument.defaultView)?e:window,l=e=>{const a=Ir(r.current).includes(e.animationName);if(e.target===t&&a&&(i("ANIMATION_END"),!s.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",n=o.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},c=e=>{e.target===t&&(a.current=Ir(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{o.clearTimeout(n),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}i("ANIMATION_END")},[t,i]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),s="function"==typeof n?n({present:r.isPresent}):m.Children.only(n),a=Pr(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=r&&"isReactWarning"in r&&r.isReactWarning;if(s)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(s));return"function"==typeof n||r.isPresent?m.cloneElement(s,{ref:a}):null};function Ir(e){return(null==e?void 0:e.animationName)||"none"}Or.displayName="Presence";var Dr=0;function Mr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tr=function(){return Tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Tr.apply(this,arguments)};function _r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}"function"==typeof SuppressedError&&SuppressedError;var zr="right-scroll-bar-position",Ar="width-before-scroll-bar";function $r(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Lr="undefined"!=typeof window?m.useLayoutEffect:m.useEffect,Fr=new WeakMap;function Wr(e,t){var n,r,s,a=(n=null,r=function(t){return e.forEach(function(e){return $r(e,t)})},(s=m.useState(function(){return{value:n,callback:r,facade:{get current(){return s.value},set current(e){var t=s.value;t!==e&&(s.value=e,s.callback(e,t))}}}})[0]).callback=r,s.facade);return Lr(function(){var t=Fr.get(a);if(t){var n=new Set(t),r=new Set(e),s=a.current;n.forEach(function(e){r.has(e)||$r(e,null)}),r.forEach(function(e){n.has(e)||$r(e,s)})}Fr.set(a,e)},[e]),a}function Br(e){return e}var Vr=function(e){var t=e.sideCar,n=_r(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Tr({},n))};Vr.isSideCarExport=!0;var Gr=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=Br);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var s=t(e,r);return n.push(s),function(){n=n.filter(function(e){return e!==s})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var s=n;n=[],s.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(a)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=Tr({async:!0,ssr:!1},e),t}(),Ur=function(){},Yr=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Ur,onWheelCapture:Ur,onTouchMoveCapture:Ur}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,i=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,f=e.sideCar,h=e.noRelative,p=e.noIsolation,x=e.inert,g=e.allowPinchZoom,b=e.as,v=void 0===b?"div":b,y=e.gapMode,j=_r(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,N=Wr([n,t]),k=Tr(Tr({},j),s);return m.createElement(m.Fragment,null,d&&m.createElement(w,{sideCar:Gr,removeScrollBar:c,shards:u,noRelative:h,noIsolation:p,inert:x,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(l),Tr(Tr({},k),{ref:N})):m.createElement(v,Tr({},k,{className:i,ref:N}),l))});Yr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Yr.classNames={fullWidth:Ar,zeroRight:zr};function Hr(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var Jr=function(){var e=0,t=null;return{add:function(n){var r,s;0==e&&(t=Hr())&&(s=n,(r=t).styleSheet?r.styleSheet.cssText=s:r.appendChild(document.createTextNode(s)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Kr=function(){var e,t=(e=Jr(),function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},qr={left:0,top:0,right:0,gap:0},Xr=function(e){return parseInt(e||"",10)||0},Zr=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return qr;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[Xr(n),Xr(r),Xr(s)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Qr=Kr(),es="data-scroll-locked",ts=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,l=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(l,"px ").concat(r,";\n  }\n  body[").concat(es,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(zr," {\n    right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(Ar," {\n    margin-right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(zr," .").concat(zr," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(Ar," .").concat(Ar," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(es,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},ns=function(){var e=parseInt(document.body.getAttribute(es)||"0",10);return isFinite(e)?e:0},rs=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=void 0===r?"margin":r;m.useEffect(function(){return document.body.setAttribute(es,(ns()+1).toString()),function(){var e=ns()-1;e<=0?document.body.removeAttribute(es):document.body.setAttribute(es,e.toString())}},[]);var a=m.useMemo(function(){return Zr(s)},[s]);return m.createElement(Qr,{styles:ts(a,!t,s,n?"":"!important")})},ss=!1;if("undefined"!=typeof window)try{var as=Object.defineProperty({},"passive",{get:function(){return ss=!0,!0}});window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch(Ma){ss=!1}var os=!!ss&&{passive:!1},ls=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},is=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),cs(e,r)){var s=ds(e,r);if(s[1]>s[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cs=function(e,t){return"v"===e?function(e){return ls(e,"overflowY")}(t):function(e){return ls(e,"overflowX")}(t)},ds=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},us=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ms=function(e){return[e.deltaX,e.deltaY]},fs=function(e){return e&&"current"in e?e.current:e},hs=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},ps=0,xs=[];function gs(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const bs=(vs=function(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(ps++)[0],a=m.useState(Kr)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=function(e,t,n){if(n||2===arguments.length)for(var r,s=0,a=t.length;s<a;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(fs),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var s,a=us(e),l=n.current,i="deltaX"in e?e.deltaX:l[0]-a[0],c="deltaY"in e?e.deltaY:l[1]-a[1],d=e.target,u=Math.abs(i)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=is(u,d);if(!m)return!0;if(m?s=u:(s="v"===u?"h":"v",m=is(u,d)),!m)return!1;if(!r.current&&"changedTouches"in e&&(i||c)&&(r.current=s),!s)return!0;var f=r.current||s;return function(e,t,n,r){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,l=t.contains(o),i=!1,c=a>0,d=0,u=0;do{if(!o)break;var m=ds(e,o),f=m[0],h=m[1]-m[2]-s*f;(f||h)&&cs(e,o)&&(d+=h,u+=f);var p=o.parentNode;o=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(c&&Math.abs(d)<1||!c&&Math.abs(u)<1)&&(i=!0),i}(f,t,e,"h"===f?i:c)},[]),i=m.useCallback(function(e){var n=e;if(xs.length&&xs[xs.length-1]===a){var r="deltaY"in n?ms(n):us(n),s=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,s=r,t[0]===s[0]&&t[1]===s[1]);var t,s})[0];if(s&&s.should)n.cancelable&&n.preventDefault();else if(!s){var i=(o.current.shards||[]).map(fs).filter(Boolean).filter(function(e){return e.contains(n.target)});(i.length>0?l(n,i[0]):!o.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=m.useCallback(function(e,n,r,s){var a={name:e,delta:n,target:r,should:s,shadowParent:gs(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),d=m.useCallback(function(e){n.current=us(e),r.current=void 0},[]),u=m.useCallback(function(t){c(t.type,ms(t),t.target,l(t,e.lockRef.current))},[]),f=m.useCallback(function(t){c(t.type,us(t),t.target,l(t,e.lockRef.current))},[]);m.useEffect(function(){return xs.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",i,os),document.addEventListener("touchmove",i,os),document.addEventListener("touchstart",d,os),function(){xs=xs.filter(function(e){return e!==a}),document.removeEventListener("wheel",i,os),document.removeEventListener("touchmove",i,os),document.removeEventListener("touchstart",d,os)}},[]);var h=e.removeScrollBar,p=e.inert;return m.createElement(m.Fragment,null,p?m.createElement(a,{styles:hs(s)}):null,h?m.createElement(rs,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Gr.useMedium(vs),Vr);var vs,ys=m.forwardRef(function(e,t){return m.createElement(Yr,Tr({},e,{ref:t,sideCar:bs}))});ys.classNames=Yr.classNames;var js=new WeakMap,ws=new WeakMap,Ns={},ks=0,Cs=function(e){return e&&(e.host||Cs(e.parentNode))},Ss=function(e,t,n,r){var s=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=Cs(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);Ns[n]||(Ns[n]=new WeakMap);var a=Ns[n],o=[],l=new Set,i=new Set(s),c=function(e){e&&!l.has(e)&&(l.add(e),c(e.parentNode))};s.forEach(c);var d=function(e){e&&!i.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(l.has(e))d(e);else try{var t=e.getAttribute(r),s=null!==t&&"false"!==t,i=(js.get(e)||0)+1,c=(a.get(e)||0)+1;js.set(e,i),a.set(e,c),o.push(e),1===i&&s&&ws.set(e,!0),1===c&&e.setAttribute(n,"true"),s||e.setAttribute(r,"true")}catch(u){console.error("aria-hidden: cannot operate on ",e,u)}})};return d(t),l.clear(),ks++,function(){o.forEach(function(e){var t=js.get(e)-1,s=a.get(e)-1;js.set(e,t),a.set(e,s),t||(ws.has(e)||e.removeAttribute(r),ws.delete(e)),s||e.removeAttribute(n)}),--ks||(js=new WeakMap,js=new WeakMap,ws=new WeakMap,Ns={})}},Es=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Ss(r,s,n,"aria-hidden")):function(){return null}};function Ps(e){const t=Rs(e),n=m.forwardRef((e,n)=>{const r=e,{children:s}=r,a=c(r,["children"]),o=m.Children.toArray(s),d=o.find(Is);if(d){const e=d.props.children,r=o.map(t=>t===d?m.Children.count(e)>1?m.Children.only(null):m.isValidElement(e)?e.props.children:null:t);return Z.jsx(t,i(l({},a),{ref:n,children:m.isValidElement(e)?m.cloneElement(e,void 0,r):null}))}return Z.jsx(t,i(l({},a),{ref:n,children:s}))});return n.displayName=`${e}.Slot`,n}function Rs(e){const t=m.forwardRef((e,t)=>{const n=e,{children:r}=n,s=c(n,["children"]);if(m.isValidElement(r)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=r&&"isReactWarning"in r&&r.isReactWarning;if(s)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(r),n=function(e,t){const n=l({},t);for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...e)=>{const t=a(...e);return s(...e),t}:s&&(n[r]=s):"style"===r?n[r]=l(l({},s),a):"className"===r&&(n[r]=[s,a].filter(Boolean).join(" "))}return l(l({},e),n)}(s,r.props);return r.type!==m.Fragment&&(n.ref=t?Gn(t,e):e),m.cloneElement(r,n)}return m.Children.count(r)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Os=Symbol("radix.slottable");function Is(e){return m.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Os}var Ds="Dialog",[Ms,Ts]=zt(Ds),[_s,zs]=Ms(Ds),As=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),i=m.useRef(null),[c,d]=Zn({prop:r,defaultProp:null!=s&&s,onChange:a,caller:Ds});return Z.jsx(_s,{scope:t,triggerRef:l,contentRef:i,contentId:Kn(),titleId:Kn(),descriptionId:Kn(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(e=>!e),[d]),modal:o,children:n})};As.displayName=Ds;var $s="DialogTrigger",Ls=m.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,s=c(n,["__scopeDialog"]),a=zs($s,r),o=Un(t,a.triggerRef);return Z.jsx(Vt.button,i(l({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":sa(a.open)},s),{ref:o,onClick:Bn(e.onClick,a.onOpenToggle)}))});Ls.displayName=$s;var Fs="DialogPortal",[Ws,Bs]=Ms(Fs,{forceMount:void 0}),Vs=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=zs(Fs,t);return Z.jsx(Ws,{scope:t,forceMount:n,children:m.Children.map(r,e=>Z.jsx(Or,{present:n||a.open,children:Z.jsx(Sr,{asChild:!0,container:s,children:e})}))})};Vs.displayName=Fs;var Gs="DialogOverlay",Us=m.forwardRef((e,t)=>{const n=Bs(Gs,e.__scopeDialog),r=e,{forceMount:s=n.forceMount}=r,a=c(r,["forceMount"]),o=zs(Gs,e.__scopeDialog);return o.modal?Z.jsx(Or,{present:s||o.open,children:Z.jsx(Hs,i(l({},a),{ref:t}))}):null});Us.displayName=Gs;var Ys=Ps("DialogOverlay.RemoveScroll"),Hs=m.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,s=c(n,["__scopeDialog"]),a=zs(Gs,r);return Z.jsx(ys,{as:Ys,allowPinchZoom:!0,shards:[a.contentRef],children:Z.jsx(Vt.div,i(l({"data-state":sa(a.open)},s),{ref:t,style:l({pointerEvents:"auto"},s.style)}))})}),Js="DialogContent",Ks=m.forwardRef((e,t)=>{const n=Bs(Js,e.__scopeDialog),r=e,{forceMount:s=n.forceMount}=r,a=c(r,["forceMount"]),o=zs(Js,e.__scopeDialog);return Z.jsx(Or,{present:s||o.open,children:o.modal?Z.jsx(qs,i(l({},a),{ref:t})):Z.jsx(Xs,i(l({},a),{ref:t}))})});Ks.displayName=Js;var qs=m.forwardRef((e,t)=>{const n=zs(Js,e.__scopeDialog),r=m.useRef(null),s=Un(t,n.contentRef,r);return m.useEffect(()=>{const e=r.current;if(e)return Es(e)},[]),Z.jsx(Zs,i(l({},e),{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bn(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:Bn(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:Bn(e.onFocusOutside,e=>e.preventDefault())}))}),Xs=m.forwardRef((e,t)=>{const n=zs(Js,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return Z.jsx(Zs,i(l({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,o;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(r.current||null==(o=n.triggerRef.current)||o.focus(),t.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:t=>{var a,o;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));const l=t.target;(null==(o=n.triggerRef.current)?void 0:o.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}}))}),Zs=m.forwardRef((e,t)=>{const n=e,{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o}=n,d=c(n,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=zs(Js,r),f=m.useRef(null),h=Un(t,f);return m.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!=(e=n[0])?e:Mr()),document.body.insertAdjacentElement("beforeend",null!=(t=n[1])?t:Mr()),Dr++,()=>{1===Dr&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Dr--}},[]),Z.jsxs(Z.Fragment,{children:[Z.jsx(br,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:Z.jsx(cr,i(l({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":sa(u.open)},d),{ref:h,onDismiss:()=>u.onOpenChange(!1)}))}),Z.jsxs(Z.Fragment,{children:[Z.jsx(ia,{titleId:u.titleId}),Z.jsx(ca,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Qs="DialogTitle",ea=m.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,s=c(n,["__scopeDialog"]),a=zs(Qs,r);return Z.jsx(Vt.h2,i(l({id:a.titleId},s),{ref:t}))});ea.displayName=Qs;var ta="DialogDescription";m.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,s=c(n,["__scopeDialog"]),a=zs(ta,r);return Z.jsx(Vt.p,i(l({id:a.descriptionId},s),{ref:t}))}).displayName=ta;var na="DialogClose",ra=m.forwardRef((e,t)=>{const n=e,{__scopeDialog:r}=n,s=c(n,["__scopeDialog"]),a=zs(na,r);return Z.jsx(Vt.button,i(l({type:"button"},s),{ref:t,onClick:Bn(e.onClick,()=>a.onOpenChange(!1))}))});function sa(e){return e?"open":"closed"}ra.displayName=na;var aa="DialogTitleWarning",[oa,la]=function(e,t){const n=m.createContext(t),r=e=>{const t=e,{children:r}=t,s=c(t,["children"]),a=m.useMemo(()=>s,Object.values(s));return Z.jsx(n.Provider,{value:a,children:r})};return r.displayName=e+"Provider",[r,function(r){const s=m.useContext(n);if(s)return s;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(aa,{contentName:Js,titleName:Qs,docsSlug:"dialog"}),ia=({titleId:e})=>{const t=la(aa),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{if(e){document.getElementById(e)||console.error(n)}},[n,e]),null},ca=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${la("DialogDescriptionWarning").contentName}}.`;return m.useEffect(()=>{var r;const s=null==(r=e.current)?void 0:r.getAttribute("aria-describedby");if(t&&s){document.getElementById(t)||console.warn(n)}},[n,e,t]),null},da=As,ua=Ls,ma=Vs,fa=Us,ha=Ks,pa=ea,xa=ra;function ga(e){var t=c(e,[]);return Z.jsx(da,l({"data-slot":"dialog"},t))}function ba(e){var t=c(e,[]);return Z.jsx(ua,l({"data-slot":"dialog-trigger"},t))}function va(e){var t=c(e,[]);return Z.jsx(ma,l({"data-slot":"dialog-portal"},t))}function ya(e){var t=e,{className:n}=t,r=c(t,["className"]);return Z.jsx(fa,l({"data-slot":"dialog-overlay",className:bt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n)},r))}function ja(e){var t=e,{className:n,children:r}=t,s=c(t,["className","children"]);return Z.jsxs(va,{"data-slot":"dialog-portal",children:[Z.jsx(ya,{}),Z.jsxs(ha,i(l({"data-slot":"dialog-content",className:bt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n)},s),{children:[r,Z.jsxs(xa,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[Z.jsx(z,{}),Z.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function wa(e){var t=e,{className:n}=t,r=c(t,["className"]);return Z.jsx("div",l({"data-slot":"dialog-header",className:bt("flex flex-col gap-2 text-center sm:text-left",n)},r))}function Na(e){var t=e,{className:n}=t,r=c(t,["className"]);return Z.jsx(pa,l({"data-slot":"dialog-title",className:bt("text-lg leading-none font-semibold",n)},r))}const ka={hintsEnabled:!0,statisticsEnabled:!0,soundEnabled:!0,soundVolume:.5};function Ca({preferences:e,onPreferencesChange:t,statistics:n}){const[r,s]=m.useState(!1),[a,o]=m.useState(!1),c=l(l({},ka),e),d=(e,n)=>{t(i(l({},c),{[e]:n}))},u=n?n.gamesWon/Math.max(1,n.gamesPlayed)*100:0;return Z.jsxs(ga,{open:r,onOpenChange:s,children:[Z.jsx(ba,{asChild:!0,children:Z.jsxs(yt,{variant:"outline",size:"sm","aria-label":"Open settings",children:[Z.jsx(A,{className:"h-4 w-4 mr-1"}),"Settings"]})}),Z.jsxs(ja,{className:"max-w-md",children:[Z.jsxs(wa,{children:[Z.jsx(Na,{children:"Game Settings"}),Z.jsxs(yt,{variant:"ghost",size:"sm",className:"absolute right-4 top-4",onClick:()=>s(!1),"data-testid":"dialog-close-x","aria-label":"Close settings dialog",children:[Z.jsx("span",{className:"sr-only",children:"Close"}),"×"]})]}),Z.jsxs("div",{className:"space-y-6",children:[Z.jsxs("div",{className:"space-y-3",children:[Z.jsx("h3",{className:"font-medium",children:"Sound Effects"}),Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{className:"flex items-center space-x-2",children:[e.soundEnabled?Z.jsx($,{className:"h-4 w-4"}):Z.jsx(L,{className:"h-4 w-4"}),Z.jsx(pn,{htmlFor:"sound-enabled",children:"Enable Sounds"})]}),Z.jsx(Wn,{id:"sound-enabled",role:"switch","aria-label":"Enable sound effects","data-testid":"toggle-sound-btn",checked:e.soundEnabled,onCheckedChange:e=>d("soundEnabled",e)})]}),e.soundEnabled&&Z.jsxs("div",{className:"pl-6",children:[Z.jsxs(pn,{htmlFor:"volume",children:["Volume: ",Math.round(100*e.soundVolume),"%"]}),Z.jsx("input",{id:"volume",type:"range",min:"0",max:"1",step:"0.1",value:e.soundVolume,onChange:e=>d("soundVolume",parseFloat(e.target.value)),className:"w-full mt-1","aria-label":"Sound volume"})]})]}),Z.jsxs("div",{className:"space-y-3",children:[Z.jsx("h3",{className:"font-medium",children:"Gameplay Assistance"}),Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{className:"flex items-center space-x-2",children:[Z.jsx(y,{className:"h-4 w-4"}),Z.jsx(pn,{htmlFor:"hints-enabled",children:"Show Hints"})]}),Z.jsx(Wn,{id:"hints-enabled",role:"switch","aria-label":"Enable gameplay hints",checked:e.hintsEnabled,onCheckedChange:e=>d("hintsEnabled",e)})]})]}),Z.jsxs("div",{className:"space-y-3",children:[Z.jsx("h3",{className:"font-medium",children:"Statistics"}),Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{className:"flex items-center space-x-2",children:[Z.jsx(F,{className:"h-4 w-4"}),Z.jsx(pn,{htmlFor:"stats-enabled",children:"Track Statistics"})]}),Z.jsx(Wn,{id:"stats-enabled",role:"switch","aria-label":"Enable statistics tracking",checked:e.statisticsEnabled,onCheckedChange:e=>d("statisticsEnabled",e)})]}),e.statisticsEnabled&&n&&Z.jsxs("div",{className:"pl-6 space-y-2",children:[Z.jsxs(yt,{variant:"outline",size:"sm",onClick:()=>o(!a),children:[a?"Hide":"Show"," Stats"]}),a&&Z.jsxs("div",{className:"bg-muted rounded-lg p-3 space-y-2",children:[Z.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"font-medium",children:"Games Played"}),Z.jsx(wt,{variant:"secondary",children:n.gamesPlayed})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"font-medium",children:"Win Rate"}),Z.jsxs(wt,{variant:"default",children:[u.toFixed(1),"%"]})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"font-medium",children:"Best Score"}),Z.jsxs(wt,{variant:"secondary",children:[n.bestScore,"/11"]})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"font-medium",children:"Avg Score"}),Z.jsx(wt,{variant:"secondary",children:n.averageScore.toFixed(1)})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"font-medium",children:"Win Streak"}),Z.jsx(wt,{variant:"default",children:n.currentWinStreak})]}),Z.jsxs("div",{children:[Z.jsx("p",{className:"font-medium",children:"Best Streak"}),Z.jsx(wt,{variant:"secondary",children:n.longestWinStreak})]})]}),Z.jsx(yt,{variant:"destructive",size:"sm",onClick:()=>{if(confirm("Are you sure you want to reset all statistics? This cannot be undone.")){const e=new CustomEvent("resetStatistics");window.dispatchEvent(e)}},children:"Reset Statistics"})]})]})]})]}),Z.jsx("div",{className:"mt-6 flex justify-end",children:Z.jsx(yt,{onClick:()=>s(!1),"data-testid":"dialog-close",children:"Close"})})]})]})}function Sa(e={}){return l({roomId:Math.random().toString(36).substr(2,6).toUpperCase(),players:[],phase:"waiting",currentTurn:1,deck:[],player1Hand:[],player2Hand:[],tableCards:[],builds:[],player1Captured:[],player2Captured:[],shuffleComplete:!1,cardSelectionComplete:!1,dealingComplete:!1,gameStarted:!1,player1Score:0,player2Score:0,winner:null,lastPlay:null,countdownStartTime:null,lastUpdate:(new Date).toISOString(),round:0,gameCompleted:!1,player1Ready:!1,player2Ready:!1,countdownRemaining:void 0},e)}const Ea={createRoom:{createRoom:()=>{}},joinRoom:{joinRoom:()=>{}}},Pa=Ea;function Ra({children:e}){return x.createElement(x.Fragment,null,e)}function Oa(e){return t=>u(this,null,function*(){if(e===Ea.createRoom.createRoom){const e=Sa({players:[{id:1,name:t.playerName}],phase:"waiting"});return{roomId:e.roomId,playerId:1,gameState:e}}if(e===Ea.joinRoom.joinRoom){return{playerId:2,gameState:Sa({roomId:t.roomId,players:[{id:1,name:"Player 1"},{id:2,name:t.playerName}],phase:"shuffle"})}}return{success:!0}})}function Ia(){var e,t,n,r,s,a,o,c,d,f,h,p;const[x,g]=m.useState(null),[y,j]=m.useState(null),[w,N]=m.useState(null),[C,E]=m.useState(""),[D,M]=m.useState(""),[_,z]=m.useState(""),[A,$]=m.useState(!1),[L,F]=m.useState(!1),[V,G]=m.useState("disconnected"),U="connected"===V&&null!==x&&""!==C,[Y,H]=function(e){const[t,n]=m.useState(e||{hintsEnabled:!1,statisticsEnabled:!1,soundEnabled:!0,soundVolume:.7});return m.useEffect(()=>{let e=null;try{e=localStorage.getItem("cassino-preferences")}catch(r){console.error("Failed to access localStorage for preferences:",r)}if(e)try{const r=JSON.parse(e);n(l(l({},t),r))}catch(r){console.error("Failed to load preferences:",r)}},[]),[t,e=>{n(e);try{localStorage.setItem("cassino-preferences",JSON.stringify(e))}catch(t){console.error("Failed to save preferences to localStorage:",t)}}]}({soundEnabled:!0,soundVolume:1,hintsEnabled:!0,statisticsEnabled:!0}),[J,K]=function(){const[e,t]=m.useState({gamesPlayed:0,gamesWon:0,gamesLost:0,totalScore:0,bestScore:0,averageScore:0,longestWinStreak:0,currentWinStreak:0,captureRate:0,buildRate:0});return m.useEffect(()=>{let n=null;try{n=localStorage.getItem("cassino-statistics")}catch(s){console.error("Failed to access localStorage for statistics:",s)}if(n)try{const r=JSON.parse(n);t(l(l({},e),r))}catch(s){console.error("Failed to load statistics:",s)}const r=()=>{const e={gamesPlayed:0,gamesWon:0,gamesLost:0,totalScore:0,bestScore:0,averageScore:0,longestWinStreak:0,currentWinStreak:0,captureRate:0,buildRate:0};t(e),localStorage.setItem("cassino-statistics",JSON.stringify(e))};return window.addEventListener("resetStatistics",r),()=>window.removeEventListener("resetStatistics",r)},[]),[e,n=>{const r=l(l({},e),n);r.gamesPlayed>0&&(r.averageScore=r.totalScore/r.gamesPlayed),t(r);try{localStorage.setItem("cassino-statistics",JSON.stringify(r))}catch(s){console.error("Failed to save statistics to localStorage:",s)}},()=>{const e={gamesPlayed:0,gamesWon:0,gamesLost:0,totalScore:0,bestScore:0,averageScore:0,longestWinStreak:0,currentWinStreak:0,captureRate:0,buildRate:0};t(e);try{localStorage.setItem("cassino-statistics",JSON.stringify(e))}catch(n){console.error("Failed to reset statistics in localStorage:",n)}}]}();m.useEffect(()=>{L&&Dt.setMasterVolume(Y.soundEnabled?Y.soundVolume:0)},[Y.soundEnabled,Y.soundVolume,L]);const q=Oa(Pa.createRoom.createRoom),X=Oa(Pa.joinRoom.joinRoom),Q=Oa(Pa.setPlayerReady.setPlayerReady);m.useEffect(()=>{if(x&&y&&Y.statisticsEnabled){if("finished"===x.phase&&"finished"!==y.phase&&w){const e=1===w?x.player1Score:x.player2Score,t=x.winner===w,n="tie"===x.winner;K({gamesPlayed:J.gamesPlayed+1,gamesWon:t?J.gamesWon+1:J.gamesWon,gamesLost:t||n?J.gamesLost:J.gamesLost+1,totalScore:J.totalScore+e,bestScore:Math.max(J.bestScore,e),currentWinStreak:t?J.currentWinStreak+1:0,longestWinStreak:t?Math.max(J.longestWinStreak,J.currentWinStreak+1):J.longestWinStreak}),Y.soundEnabled&&L&&Dt.playSound("gameEnd")}"round1"===x.phase&&"round1"!==y.phase&&Y.soundEnabled&&L&&Dt.playSound("gameStart"),j(x)}else j(x)},[x,y,w,Y.statisticsEnabled,Y.soundEnabled,L,J,K]);const ee=useQuery(Pa.getGameState.getGameState,C&&C.trim()&&C.length>0&&""!==C&&w?{roomId:C}:"skip");m.useEffect(()=>{var e;ee&&ee.gameState&&C&&(console.log("🔄 Game state updated from Convex:",{phase:ee.gameState.phase,players:(null==(e=ee.gameState.players)?void 0:e.length)||0,roomId:ee.gameState.roomId}),g(ee.gameState),G("connected"))},[ee,C]),m.useEffect(()=>{if(C&&w&&"connected"===V){const e=setInterval(()=>{console.log("🔄 Periodic game state refresh for room:",C)},2e3);return()=>clearInterval(e)}},[C,w,V]);const te=1===w?null!=(e=null==x?void 0:x.player1Score)?e:0:null!=(t=null==x?void 0:x.player2Score)?t:0,ne=1===w?null!=(n=null==x?void 0:x.player2Score)?n:0:null!=(r=null==x?void 0:x.player1Score)?r:0,re=(null==(a=null==(s=null==x?void 0:x.players)?void 0:s.find(e=>e.id===w))?void 0:a.name)||"You",se=(null==(c=null==(o=null==x?void 0:x.players)?void 0:o.find(e=>e.id!==w))?void 0:c.name)||"Opponent";return Z.jsxs(Z.Fragment,{children:[Z.jsx(Mt,{onSoundReady:()=>F(!0)}),Z.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-900 via-green-800 to-teal-900 relative",children:[Z.jsx("div",{className:"absolute top-4 right-4 z-50","data-testid":"game-settings",children:Z.jsx(Ca,{preferences:Y,onPreferencesChange:H,statistics:Y.statisticsEnabled?J:void 0})}),Y.statisticsEnabled&&Z.jsx("div",{"data-testid":"statistics",className:"absolute top-4 left-4 z-50 bg-white/90 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:Z.jsxs("div",{className:"text-sm font-medium text-gray-800",children:["Games: ",J.gamesPlayed]})}),_&&Z.jsx("div",{"data-testid":"error-message",className:"absolute top-16 left-1/2 transform -translate-x-1/2 z-40 max-w-md w-full mx-4",children:Z.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 shadow-lg",children:Z.jsx("p",{className:"text-red-700 font-medium text-center",children:_})})}),!U&&Z.jsx(wn,{roomId:C,setRoomId:E,playerName:D,setPlayerName:M,onCreateRoom:()=>u(this,null,function*(){if(D){$(!0),z("");try{G("connecting");const e=yield q({playerName:D});if(!e)throw new Error("Failed to create room");E(e.roomId),N(1),g(e.gameState),G("connected")}catch(e){console.error("Error creating room:",e);const t=(null==e?void 0:e.message)||String(e);z(t),G("disconnected")}finally{$(!1)}}else z("Please enter your name")}),onJoinRoom:(e,t)=>u(this,null,function*(){var n;console.log("🎯 joinRoom function called!");const r=e||C,s=t||D;if(console.log("🚀 Joining room:",{roomToJoin:r,nameToUse:s}),r&&s){$(!0),z("");try{G("connecting");const e=yield X({roomId:r,playerName:s});if(console.log("✅ Join room response:",e),!e)throw new Error("Failed to join room");E(r),N(e.playerId),g(e.gameState),G("connected"),console.log("🎯 Updated game state:",{phase:e.gameState.phase,players:(null==(n=e.gameState.players)?void 0:n.length)||0,shouldShowDealer:"dealer"===e.gameState.phase})}catch(a){console.error("❌ Error joining room:",a),console.error("Error details:",{message:a.message,stack:a.stack,roomId:r,playerName:s});const e=(null==a?void 0:a.message)||String(a);z(e),G("disconnected")}finally{$(!1)}}else z("Please enter room ID and player name")}),error:_,isLoading:A}),Z.jsxs("div",{className:"absolute inset-0 opacity-10",children:[Z.jsx("div",{className:"absolute top-20 left-10 transform rotate-12 floating",children:Z.jsx(P,{className:"w-20 h-20 text-casino-red-light glow-casino"})}),Z.jsx("div",{className:"absolute top-40 right-20 transform -rotate-45 floating",style:{animationDelay:"1s"},children:Z.jsx(R,{className:"w-18 h-18 text-gray-300 glow-casino"})}),Z.jsx("div",{className:"absolute bottom-32 left-16 transform rotate-45 floating",style:{animationDelay:"2s"},children:Z.jsx(O,{className:"w-22 h-22 text-casino-blue-light glow-casino"})}),Z.jsx("div",{className:"absolute bottom-20 right-10 transform -rotate-12 floating",style:{animationDelay:"3s"},children:Z.jsx(I,{className:"w-20 h-20 text-gray-300 glow-casino"})}),Z.jsx("div",{className:"absolute top-1/2 left-1/4 transform -rotate-12 floating",style:{animationDelay:"0.5s"},children:Z.jsx(b,{className:"w-16 h-16 text-casino-gold glow-gold"})}),Z.jsx("div",{className:"absolute top-1/3 right-1/3 transform rotate-45 floating",style:{animationDelay:"1.5s"},children:Z.jsx(v,{className:"w-14 h-14 text-casino-purple-light glow-casino"})})]}),Z.jsx("div",{className:"relative z-10 p-4",children:Z.jsxs("div",{className:"max-w-6xl mx-auto",children:[Z.jsx(ln,{className:"backdrop-blur-sm bg-white/95 shadow-2xl border-0 mb-6",children:Z.jsx(cn,{className:"p-6",children:Z.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[Z.jsxs("div",{className:"flex items-center space-x-6",children:[Z.jsxs("div",{className:"relative",children:[Z.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-casino-gold via-casino-purple to-casino-blue rounded-full blur-lg opacity-50 animate-pulse-slow"}),Z.jsx("div",{className:"relative backdrop-casino-dark rounded-full p-4 shadow-gold",children:Z.jsx(b,{className:"w-10 h-10 text-casino-gold glow-gold"})})]}),Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-3xl lg:text-4xl font-black text-gradient-casino mb-2",children:"Cassino"}),Z.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[Z.jsxs("span",{className:"flex items-center backdrop-casino-dark px-3 py-1.5 rounded-full shadow-casino",children:[Z.jsx(k,{className:"w-4 h-4 mr-2 text-casino-blue"}),Z.jsx("span",{className:"font-medium text-white",children:null==x?void 0:x.roomId})]}),Z.jsx(jn,{orientation:"vertical",className:"h-4 bg-casino-gold/30"}),Z.jsxs("span",{className:"flex items-center backdrop-casino-dark px-3 py-1.5 rounded-full shadow-casino",children:["connected"===V?Z.jsx(W,{className:"w-4 h-4 mr-2 text-casino-green-light"}):"connecting"===V?Z.jsx(S,{className:"w-4 h-4 mr-2 text-casino-gold animate-spin"}):Z.jsx(B,{className:"w-4 h-4 mr-2 text-casino-red-light"}),Z.jsx("span",{className:"font-medium text-white",children:"connected"===V?"Connected":"connecting"===V?"Connecting...":"Disconnected"})]})]})]})]}),Z.jsxs("div",{className:"flex items-center space-x-8",children:[Z.jsxs("div",{className:"text-center backdrop-casino-dark rounded-xl px-6 py-4 shadow-casino border border-casino-gold/20",children:[Z.jsx("div",{className:"text-sm font-medium text-casino-gold mb-2 uppercase tracking-wider",children:re}),Z.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[Z.jsx(T,{className:"w-5 h-5 text-casino-gold"}),Z.jsx("span",{className:"text-2xl font-black text-gradient-gold",children:te}),Z.jsx("span",{className:"text-lg font-medium text-white/60",children:"/11"})]})]}),Z.jsx("div",{className:"text-center",children:Z.jsx("div",{className:"text-3xl font-black text-white/30 shimmer",children:"VS"})}),Z.jsxs("div",{className:"text-center backdrop-casino-dark rounded-xl px-6 py-4 shadow-casino border border-casino-blue/20",children:[Z.jsx("div",{className:"text-sm font-medium text-casino-blue mb-2 uppercase tracking-wider",children:se}),Z.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[Z.jsx(T,{className:"w-5 h-5 text-casino-blue"}),Z.jsx("span",{className:"text-2xl font-black text-gradient-casino",children:ne}),Z.jsx("span",{className:"text-lg font-medium text-white/60",children:"/11"})]})]})]}),Z.jsxs("div",{className:"flex items-center space-x-4",children:[Z.jsxs("div",{className:"text-right backdrop-casino-dark rounded-xl px-4 py-3 shadow-casino border border-casino-purple/20",children:[Z.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[Z.jsx(v,{className:"w-4 h-4 text-casino-purple glow-casino"}),Z.jsx("span",{className:"text-sm font-medium text-white",children:(null==x?void 0:x.phase)?x.phase.charAt(0).toUpperCase()+x.phase.slice(1):"Waiting"})]}),((null==x?void 0:x.round)||0)>0&&Z.jsxs("div",{className:"text-xs text-casino-purple-light font-medium",children:["Round ",(null==x?void 0:x.round)||0,"/2"]})]}),Z.jsx(jn,{orientation:"vertical",className:"h-8"}),Z.jsx("div",{className:"flex items-center space-x-2",children:Z.jsx(yt,{onClick:()=>{G("disconnected"),g(null),N(null),E(""),z("")},variant:"outline",size:"sm",className:"border-casino-red/50 text-casino-red hover:bg-casino-red/10 hover:border-casino-red backdrop-casino-dark shadow-casino transition-all duration-300",children:"Leave Game"})})]})]})})}),"waiting"===(null==x?void 0:x.phase)&&x&&Z.jsx(Z.Fragment,{children:Z.jsxs("div",{className:"fixed top-4 left-4 bg-black/80 text-white p-2 rounded text-xs z-50",children:["Debug: Phase=",x.phase,", Players=",(null==(d=x.players)?void 0:d.length)||0]})}),"waiting"===(null==x?void 0:x.phase)&&x&&Z.jsx(ln,{className:"backdrop-casino border-0 shadow-casino-lg overflow-hidden",children:Z.jsx(cn,{className:"p-10",children:Z.jsxs("div",{className:"text-center",children:[Z.jsx("div",{className:"mb-8",children:Z.jsxs("div",{className:"inline-flex items-center space-x-3 backdrop-casino-dark rounded-2xl px-8 py-4 shadow-glow-casino border border-casino-blue/30",children:[Z.jsx(S,{className:"w-6 h-6 text-casino-blue animate-pulse"}),Z.jsx("span",{className:"text-white font-medium text-lg",children:"Waiting for players..."})]})}),Z.jsxs("div",{className:"mb-8",children:[Z.jsxs("p",{className:"text-2xl text-white font-bold mb-6",children:[(null==(f=null==x?void 0:x.players)?void 0:f.length)||0,"/2 players joined"]}),Z.jsxs("div",{className:"flex justify-center space-x-4",children:[null==(h=null==x?void 0:x.players)?void 0:h.map(e=>Z.jsx("div",{className:"backdrop-casino-dark rounded-xl px-6 py-3 border border-casino-green/30 shadow-casino",children:Z.jsx("span",{className:"text-casino-green-light font-medium text-lg",children:e.name})},e.id)),((null==(p=null==x?void 0:x.players)?void 0:p.length)||0)<2&&Z.jsx("div",{className:"backdrop-casino-dark rounded-xl px-6 py-3 border-2 border-dashed border-casino-gold/30 animate-pulse",children:Z.jsx("span",{className:"text-casino-gold",children:"Waiting..."})})]})]}),Z.jsxs("div",{className:"backdrop-casino-dark rounded-2xl p-6 mb-8 border border-casino-gold/30 shadow-glow-gold",children:[Z.jsx("p",{className:"text-casino-gold font-medium mb-4 text-lg",children:"Share this room code with another player:"}),Z.jsx("div",{className:"inline-flex items-center gradient-gold rounded-xl px-6 py-3 shadow-gold border border-casino-gold-dark",children:Z.jsx("code",{className:"text-3xl font-mono font-black text-casino-green-dark tracking-wider shimmer",children:null==x?void 0:x.roomId})})]}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-left",children:[Z.jsxs("div",{className:"backdrop-casino-dark rounded-2xl p-6 border border-casino-green/30 shadow-casino",children:[Z.jsxs("h3",{className:"font-bold text-casino-green-light mb-4 flex items-center text-lg",children:[Z.jsx(T,{className:"w-6 h-6 mr-3 text-casino-gold glow-gold"}),"Scoring System"]}),Z.jsxs("div",{className:"space-y-3 text-sm",children:[Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-white",children:"Each Ace (♠♥♦♣)"}),Z.jsx(wt,{className:"bg-gradient-to-r from-casino-gold to-casino-gold-dark text-white border-0 shadow-gold",children:"1 pt"})]}),Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-white",children:"2 of Spades (2♠)"}),Z.jsx(wt,{className:"bg-gradient-to-r from-casino-gold to-casino-gold-dark text-white border-0 shadow-gold",children:"1 pt"})]}),Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-white",children:"10 of Diamonds (10♦)"}),Z.jsx(wt,{className:"bg-gradient-to-r from-casino-purple to-casino-purple-dark text-white border-0 shadow-casino",children:"2 pts"})]}),Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-white",children:"Most cards captured"}),Z.jsx(wt,{className:"bg-gradient-to-r from-casino-blue to-casino-blue-dark text-white border-0 shadow-casino",children:"2 pts"})]}),Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsx("span",{className:"text-white",children:"Most spades captured"}),Z.jsx(wt,{className:"bg-gradient-to-r from-casino-green to-casino-green-dark text-white border-0 shadow-casino",children:"2 pts"})]})]})]}),Z.jsxs("div",{className:"backdrop-casino-dark rounded-2xl p-6 border border-casino-blue/30 shadow-casino",children:[Z.jsxs("h3",{className:"font-bold text-casino-blue-light mb-4 flex items-center text-lg",children:[Z.jsx(v,{className:"w-6 h-6 mr-3 text-casino-purple glow-casino"}),"How to Play"]}),Z.jsxs("div",{className:"space-y-3 text-sm",children:[Z.jsxs("p",{className:"text-white",children:[Z.jsx("strong",{className:"text-casino-blue-light",children:"Capture:"})," Match your card value with table cards"]}),Z.jsxs("p",{className:"text-white",children:[Z.jsx("strong",{className:"text-casino-purple-light",children:"Build:"})," Combine table cards to create a sum you can capture"]}),Z.jsxs("p",{className:"text-white",children:[Z.jsx("strong",{className:"text-casino-green-light",children:"Trail:"})," Place a card on the table when you can't capture"]}),Z.jsx("div",{className:"mt-4 p-3 backdrop-casino border border-casino-gold/30 rounded-xl",children:Z.jsxs("p",{className:"text-casino-gold font-medium text-xs flex items-center",children:[Z.jsx("span",{className:"text-lg mr-2",children:"⚠️"}),"You can only build values that you have cards in hand to capture!"]})})]})]})]}),Y.statisticsEnabled&&J.gamesPlayed>0&&Z.jsxs("div",{className:"mt-6 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-4",children:[Z.jsxs("h4",{className:"font-bold text-purple-800 mb-3 flex items-center justify-center",children:[Z.jsx(b,{className:"w-5 h-5 mr-2"}),"Your Game Statistics"]}),Z.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[Z.jsxs("div",{children:[Z.jsx("div",{className:"text-2xl font-bold text-purple-600",children:J.gamesPlayed}),Z.jsx("div",{className:"text-xs text-purple-500",children:"Games"})]}),Z.jsxs("div",{children:[Z.jsx("div",{className:"text-2xl font-bold text-green-600",children:J.gamesWon}),Z.jsx("div",{className:"text-xs text-green-500",children:"Wins"})]}),Z.jsxs("div",{children:[Z.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(J.gamesWon/J.gamesPlayed*100).toFixed(1),"%"]}),Z.jsx("div",{className:"text-xs text-blue-500",children:"Win Rate"})]}),Z.jsxs("div",{children:[Z.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:J.bestScore}),Z.jsx("div",{className:"text-xs text-yellow-500",children:"Best Score"})]})]})]})]})})}),(null==x?void 0:x.phase)&&"waiting"!==x.phase&&w&&Z.jsx(un,{gameState:x,playerId:w,onStartShuffle:()=>u(this,null,function*(){C&&w&&(g(e=>e?i(l({},e),{shuffleComplete:!0}):null),z(""))}),onSelectFaceUpCards:e=>u(this,null,function*(){C&&w&&(g(e=>e?i(l({},e),{cardSelectionComplete:!0}):null),z(""))}),onPlayCard:(e,t,n,r)=>u(this,null,function*(){C&&w&&(g(s=>s?i(l({},s),{lastPlay:{cardId:e,action:t,targetCards:n,buildValue:r}}):null),z(""))}),onResetGame:()=>u(this,null,function*(){C&&(g(null),j(null),z(""))}),onPlayerReady:()=>u(this,null,function*(){if(C&&w)try{const e=yield Q({roomId:C,playerId:w,isReady:!0});e&&g(e.gameState)}catch(e){console.error("Error setting player ready:",e),z((null==e?void 0:e.message)||"Failed to set player ready status")}}),onPlayerNotReady:()=>u(this,null,function*(){if(C&&w)try{const e=yield Q({roomId:C,playerId:w,isReady:!1});e&&g(e.gameState)}catch(e){console.error("Error setting player not ready:",e),z((null==e?void 0:e.message)||"Failed to set player ready status")}}),preferences:Y})]})})]})]})}(new Date).toISOString(),"undefined"!=typeof process&&(console.log=()=>{},window.addEventListener("error",e=>{console.error("Global error:",e.error)}),window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason)}));const Da=document.getElementById("root");Da.classList.add("loaded"),Q.createRoot(Da).render(Z.jsx(Ra,{children:Z.jsx(Ia,{})}));
